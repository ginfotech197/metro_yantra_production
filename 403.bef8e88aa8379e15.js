"use strict";(self.webpackChunkbase_project=self.webpackChunkbase_project||[]).push([[403],{5480:(D,A,m)=>{m.d(A,{q:()=>s});var Z=m(4859),x=m(4144),v=m(4650);let s=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=v.oAB({type:l}),l.\u0275inj=v.cJS({imports:[Z.ot,x.c]}),l})()},7403:(D,A,m)=>{m.r(A),m.d(A,{MasterTerminalModule:()=>ye});var Z=m(6895),x=m(2510),v=m(2340),s=m(4006),l=m(5226),p=m.n(l),e=m(4650),y=m(2088),J=m(2173),M=m(9366),L=m(1599),F=m(5620),w=m(7431),b=m(3848),P=m(4859),f=m(9549),E=m(4144),U=m(277),_=m(4784),d=m(3546),u=m(455),g=m(6308),T=m(4385),h=m(3238),I=m(7392),S=m(4537),C=m(8567),q=m(3189);function B(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"This field is Required"),e.qZA())}function Q(n,o){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Minimum length of name is ",t.terminalMasterForm.get("terminalName").errors.minlength.requiredLength,"")}}function R(n,o){if(1&n&&(e.TgZ(0,"div",75),e.YNc(1,B,2,0,"mat-error",76),e.YNc(2,Q,2,1,"mat-error",76),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.terminalMasterForm.get("terminalName").errors.required),e.xp6(1),e.Q6J("ngIf",t.terminalMasterForm.get("terminalName").errors.minlength)}}function Y(n,o){if(1&n&&(e.TgZ(0,"mat-option",77),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.userId),e.xp6(1),e.hij(" ",t.userName," ")}}function G(n,o){if(1&n&&(e.TgZ(0,"mat-option",77),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.slab_status," ")}}function V(n,o){if(1&n&&(e.TgZ(0,"mat-option",77),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.userId),e.xp6(1),e.hij(" ",t.userName," ")}}function j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"div",79)(2,"mat-label"),e._uU(3,"Tripple Chance "),e.qZA(),e.TgZ(4,"input",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(1))}),e.qZA()(),e.TgZ(5,"div",81)(6,"mat-label"),e._uU(7,"12 Card "),e.qZA(),e.TgZ(8,"input",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(2))}),e.qZA()(),e.TgZ(9,"div",81)(10,"mat-label"),e._uU(11,"16 Card "),e.qZA(),e.TgZ(12,"input",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(3))}),e.qZA()(),e.TgZ(13,"div",81)(14,"mat-label"),e._uU(15,"Single "),e.qZA(),e.TgZ(16,"input",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(4))}),e.qZA()(),e.TgZ(17,"div",81)(18,"mat-label"),e._uU(19,"Double "),e.qZA(),e.TgZ(20,"input",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(5))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("checked",1==t.game1),e.xp6(4),e.Q6J("checked",1==t.game2),e.xp6(4),e.Q6J("checked",1==t.game3),e.xp6(4),e.Q6J("checked",1==t.game4),e.xp6(4),e.Q6J("checked",1==t.game5)}}function K(n,o){1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",88),e.qZA())}function $(n,o){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",89),e.qZA())}function W(n,o){1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",90),e.qZA())}function H(n,o){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",91),e.qZA())}function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.approveLogin(r))}),e._uU(1,"Approve"),e.qZA()}}function z(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1,"Approved"),e.qZA())}function ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",82)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",61),e._uU(4),e.YNc(5,K,2,0,"div",76),e.YNc(6,$,2,0,"div",76),e.YNc(7,W,2,0,"div",76),e.YNc(8,H,2,0,"div",76),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e.YNc(20,X,2,0,"button",83),e.YNc(21,z,2,0,"label",76),e.qZA(),e.TgZ(22,"td")(23,"a",84)(24,"img",85),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return c.onTerminalSelectTransferPoint(a.terminalId),e.KtG(c.selectedTab=1)}),e.qZA()(),e.TgZ(25,"a",84)(26,"img",86),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return c.onTerminalSelect(a.terminalId),e.KtG(c.selectedTab=2)}),e.qZA()()(),e.TgZ(27,"td")(28,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.updateBlock(a.terminalId))}),e.qZA()(),e.TgZ(29,"td")(30,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.updateAutoClaim(a.terminalId))}),e.qZA()(),e.TgZ(31,"td")(32,"i",87),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editTerminal(a))}),e.qZA()()()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw();e.Q6J("ngStyle",r.getBackgroundColor(i,t)),e.xp6(2),e.Oqu(i+1),e.xp6(2),e.hij(" ",t.terminalName," "),e.xp6(1),e.Q6J("ngIf","exe"==t.platform&&"P"==t.version),e.xp6(1),e.Q6J("ngIf","exe"==t.platform&&"NP"==t.version),e.xp6(1),e.Q6J("ngIf","apk"==t.platform&&"P"==t.version),e.xp6(1),e.Q6J("ngIf","apk"==t.platform&&"NP"==t.version),e.xp6(2),e.Oqu(t.password),e.xp6(2),e.Oqu(t.commission),e.xp6(2),e.Oqu(t.balance),e.xp6(2),e.Oqu(t.superStockist.userName),e.xp6(2),e.Oqu(t.stockist.userName),e.xp6(2),e.Q6J("ngIf",1==t.loginActivate),e.xp6(1),e.Q6J("ngIf",2==t.loginActivate),e.xp6(7),e.Q6J("checked",1==t.blocked),e.xp6(2),e.Q6J("checked",1==t.autoClaim)}}function te(n,o){if(1&n&&(e.TgZ(0,"mat-option",77),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function ie(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",94),e.TgZ(4,"mat-icon",95),e._uU(5,"person_pin"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.terminalName)}}function ne(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Current balance"),e.qZA(),e._UZ(3,"input",96),e.TgZ(4,"mat-icon",95),e._uU(5,"account_balance_wallet"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.balance)}}function ae(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Stockist owner"),e.qZA(),e._UZ(3,"input",94),e.TgZ(4,"mat-icon",95),e._uU(5,"person_pin"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.stockist.userName)}}function re(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Stockist balance"),e.qZA(),e._UZ(3,"input",96),e.TgZ(4,"mat-icon",95),e._uU(5,"account_balance_wallet"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.stockist.balance)}}function oe(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,ae,6,1,"mat-form-field",46),e.YNc(2,re,6,1,"mat-form-field",46),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint)}}function se(n,o){1&n&&(e.TgZ(0,"mat-form-field",78)(1,"mat-label"),e._uU(2,"Recharge amount"),e.qZA(),e._UZ(3,"input",98),e.TgZ(4,"mat-icon",95),e._uU(5," money"),e.qZA()())}function le(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,se,6,0,"mat-form-field",97),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint)}}function me(n,o){if(1&n&&(e.TgZ(0,"mat-option",77),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function ce(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",94),e.TgZ(4,"mat-icon",95),e._uU(5,"person_pin"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminal.terminalName)}}function de(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Current balance"),e.qZA(),e._UZ(3,"input",96),e.TgZ(4,"mat-icon",95),e._uU(5,"account_balance_wallet"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminal.balance)}}function ue(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Stockist owner"),e.qZA(),e._UZ(3,"input",94),e.TgZ(4,"mat-icon",95),e._uU(5,"person_pin"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminal.stockist.userName)}}function pe(n,o){if(1&n&&(e.TgZ(0,"mat-form-field",93)(1,"mat-label"),e._uU(2,"Stockist balance"),e.qZA(),e._UZ(3,"input",96),e.TgZ(4,"mat-icon",95),e._uU(5,"account_balance_wallet"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminal.stockist.balance)}}function _e(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,ue,6,1,"mat-form-field",46),e.YNc(2,pe,6,1,"mat-form-field",46),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminal),e.xp6(1),e.Q6J("ngIf",t.selectedTerminal)}}function ge(n,o){1&n&&(e.TgZ(0,"mat-form-field",78)(1,"mat-label"),e._uU(2,"Recharge amount"),e.qZA(),e._UZ(3,"input",98),e.TgZ(4,"mat-icon",95),e._uU(5," money"),e.qZA()())}function fe(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,ge,6,0,"mat-form-field",97),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminal)}}function he(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-option",99),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.transactionId=r)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngModel",i.transactionId)("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function Te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",100),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendMailTransaction())}),e._uU(1,"Send Mail"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.emailFormControl.valid||null==t.emailFormControl.value)}}function Ze(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()()),2&n){const t=o.$implicit,i=o.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.AsE("",t.date," (",t.time,")"),e.xp6(2),e.Oqu(t.game_name),e.xp6(2),e.Oqu(t.barcode_number),e.xp6(2),e.Oqu(t.old_amount),e.xp6(2),e.Oqu(t.recharged_amount),e.xp6(2),e.Oqu(t.played_amount),e.xp6(2),e.Oqu(t.prize_amount),e.xp6(2),e.Oqu(t.new_amount)}}function xe(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&n){const t=o.$implicit,i=o.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.rechargedTo.userName),e.xp6(2),e.Oqu(t.rechargedby.userName),e.xp6(2),e.Oqu(t.oldAmount),e.xp6(2),e.Oqu(t.rechargedAmount),e.xp6(2),e.Oqu(t.newAmount),e.xp6(2),e.Oqu(t.dateAndTime)}}function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",73),e._uU(2),e.qZA(),e.TgZ(3,"td",73),e._uU(4),e.qZA(),e.TgZ(5,"td",73)(6,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.gamePermissionUpdate(1,a.terminalId))}),e.qZA()(),e.TgZ(7,"td",73)(8,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.gamePermissionUpdate(2,a.terminalId))}),e.qZA()(),e.TgZ(9,"td",73)(10,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.gamePermissionUpdate(3,a.terminalId))}),e.qZA()(),e.TgZ(11,"td",73)(12,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.gamePermissionUpdate(4,a.terminalId))}),e.qZA()(),e.TgZ(13,"td",73)(14,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.gamePermissionUpdate(5,a.terminalId))}),e.qZA()(),e.TgZ(15,"td",73)(16,"input",80),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.gamePermissionUpdate(6,a.terminalId))}),e.qZA()()()}if(2&n){const t=o.$implicit,i=o.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.terminalName),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game1),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game2),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game3),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game4),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game5),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game6)}}function ve(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",101)(2,"mat-slide-toggle",102),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.showDevArea=!r.showDevArea)}),e._uU(3),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.showDevArea?"Hide Developer Area":"Show Developer Area")}}function Ce(n,o){if(1&n&&(e.TgZ(0,"div",61)(1,"div",103)(2,"pre"),e._uU(3),e._uU(4),e._uU(5,"\n      "),e.qZA()(),e._UZ(6,"div",101),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij("        ",t.terminalLimitForm.valid,"\n      "),e.xp6(1),e.hij("\n        terminalForm = ",t.terminalMasterForm.value,"\n      ")}}const ke=function(n,o){return{itemsPerPage:n,currentPage:o}};let Me=(()=>{class n{constructor(t,i,r,a,c,k){this.masterTerminalService=t,this.masterStockistService=i,this.authService=r,this.masterSuperStockistService=a,this.commonService=c,this.transactionReportService=k,this.isProduction=v.N.production,this.showDevArea=!1,this.isTerminalUpdatAble=!1,this.terminals=[],this.sortedTerminalList=[],this.stockists=[],this.superStockists=[],this.selectedTerminal=null,this.selectedTerminalTransferPoint=null,this.selectedStockiest=null,this.payoutSlabs=[],this.highLightedRowIndex=-1,this.pinCheckValidator=!1,this.terminalFilter=null,this.p=1,this.p1=1,this.itemsOnEveryPage=10,this.selectedTab=0,this.searchItem=null,this.transactionId=null,this.rechargedToID=null,this.transactionData=[],this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.mailStatus=0,this.emailFormControl=new s.p4(null,[s.kI.email]),this.user=this.authService.userBehaviorSubject.value,this.authService.userBehaviorSubject.subscribe(N=>{this.user=N}),this.terminalMasterForm=new s.nJ({id:new s.p4(null),terminalName:new s.p4(null,[s.kI.required,s.kI.minLength(2)]),stockistId:new s.p4(null,[s.kI.required]),payoutSlabId:new s.p4(null),superStockistId:new s.p4(null,[s.kI.required]),pin:new s.p4(null,[s.kI.required]),commission:new s.p4(null,[s.kI.required,s.kI.max(this.user.commission)])}),this.terminalLimitForm=new s.nJ({beneficiaryUid:new s.p4(null,[s.kI.required]),amount:new s.p4(null,[s.kI.required,s.kI.max(0)])}),this.terminalAdjustLimitForm=new s.nJ({beneficiaryUid:new s.p4(null,[s.kI.required]),amount:new s.p4(null,[s.kI.required,s.kI.max(2)])})}ngOnInit(){if(this.terminals=this.masterTerminalService.getTerminals(),this.sortedTerminalList=this.masterTerminalService.getTerminals(),this.masterTerminalService.getTerminalListener().subscribe(t=>{this.terminals=t,this.sortedTerminalList=this.terminals.filter(i=>i.stockist.userId===this.user.userId)}),this.sortedTerminalList=this.terminals.filter(t=>t.stockist.userId===this.user.userId),this.payoutSlabs=this.masterTerminalService.getPayoutSlabs(),this.masterTerminalService.getPayoutSlabListener().subscribe(t=>{this.payoutSlabs=t}),this.masterSuperStockistService.getSuperStockistListener().subscribe(t=>{this.superStockists=t}),this.stockists=this.masterStockistService.getStockists(),this.masterStockistService.getStockistListener().subscribe(t=>{this.stockists=t;const i=this.stockists.findIndex(r=>r.userId===this.user.userId);this.selectedStockiest=this.stockists[i],this.terminalMasterForm.patchValue({stockistId:this.user.userId,superStockistId:this.selectedStockiest.superStockistId})}),this.stockists){const t=this.stockists.findIndex(i=>i.userId===this.user.userId);this.selectedStockiest=this.stockists[t],this.terminalMasterForm.patchValue({stockistId:this.user.userId,superStockistId:this.selectedStockiest.superStockistId})}}updateAutoClaim(t){this.masterTerminalService.updateAutoClaim(t).subscribe()}refreshTerminalList(){this.masterTerminalService.getAllUpdatedTerminals()}gamePermissionUpdate(t,i){this.masterTerminalService.gamePermission(t,i).subscribe()}updateBlock(t){this.masterTerminalService.updateBlock(t).subscribe()}approveLogin(t){this.masterTerminalService.loginApprove(t.terminalId).subscribe()}getTransaction(){this.transactionReportService.getTransactionByUser({rechargedToID:this.rechargedToID,rechargedByID:this.user.userId}).subscribe(i=>{this.transactionData=i.data})}onTerminalSelectTransferPoint(t){t.value?(this.selectedTerminalTransferPoint=this.terminals.find(i=>i.terminalId===t.value),this.terminalLimitForm.controls.amount.setValidators([s.kI.max(this.selectedTerminalTransferPoint.stockist.balance)])):(this.terminalLimitForm.patchValue({beneficiaryUid:t}),this.selectedTerminalTransferPoint=this.terminals.find(i=>i.terminalId===t))}onTerminalSelect(t){t.value?(this.selectedTerminal=this.terminals.find(i=>i.terminalId===t.value),this.terminalAdjustLimitForm.controls.amount.setValidators([s.kI.max(this.selectedTerminal.stockist.balance)])):(this.terminalAdjustLimitForm.patchValue({beneficiaryUid:t}),this.selectedTerminal=this.terminals.find(i=>i.terminalId===t))}enableGameCreateTerminal(t){1===t?this.game1=1===this.game1?0:1:2===t?this.game2=1===this.game2?0:1:3===t?this.game3=1===this.game3?0:1:4===t?this.game4=1===this.game4?0:1:5===t&&(this.game5=1===this.game5?0:1)}editTerminal(t){const i=this.terminals.findIndex(a=>a.terminalId===t.terminalId);this.highLightedRowIndex=i,this.terminalMasterForm.patchValue({id:t.terminalId,terminalName:t.terminalName,stockistId:t.stockist.userId,payoutSlabId:t.payoutSlabId,pin:t.pin,commission:t.commission}),this.isTerminalUpdatAble=!0}updateTerminal(){const t=this.stockists.findIndex(i=>i.userId===this.terminalMasterForm.value.stockistId);parseFloat(String(this.stockists[t].commission))<parseFloat(this.terminalMasterForm.value.commission)?p().fire({position:"top-end",icon:"info",title:"Terminal commission is more than stockist commission",showConfirmButton:!1,timer:2e3}):p().fire({title:"Confirmation",text:"Do you sure to update terminal?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(i=>{i.isConfirmed&&this.masterTerminalService.updateTerminal({terminalId:this.terminalMasterForm.value.id,terminalName:this.terminalMasterForm.value.terminalName,stockistId:this.terminalMasterForm.value.stockistId,pin:this.terminalMasterForm.value.pin,superStockistId:this.terminalMasterForm.value.superStockistId,payoutSlabId:this.terminalMasterForm.value.payoutSlabId,userId:this.user.userId,commission:this.terminalMasterForm.value.commission}).subscribe(a=>{1===a.success?(this.sortedTerminalList[this.highLightedRowIndex]=a.data,this.terminalMasterForm.reset(),this.isTerminalUpdatAble=!1,setTimeout(()=>{this.highLightedRowIndex=-1},5e3),p().fire({position:"top-end",icon:"success",title:"Terminal Updated",showConfirmButton:!1,timer:1e3})):p().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{})})}createNewTerminal(){const t=this.stockists.findIndex(i=>i.userId===this.terminalMasterForm.value.stockistId);parseFloat(String(this.stockists[t].commission))<parseFloat(this.terminalMasterForm.value.commission)?p().fire({position:"top-end",icon:"info",title:"Terminal commission is more than stockist commission",showConfirmButton:!1,timer:2e3}):p().fire({title:"Confirmation",text:"Do you sure to create terminal?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(i=>{i.isConfirmed&&this.masterTerminalService.saveNewTerminal({terminalId:this.terminalMasterForm.value.id,terminalName:this.terminalMasterForm.value.terminalName,stockistId:this.terminalMasterForm.value.stockistId,superStockistId:this.terminalMasterForm.value.superStockistId,payoutSlabId:this.terminalMasterForm.value.payoutSlabId,createdBy:this.user.userId,pin:this.terminalMasterForm.value.pin,commission:this.terminalMasterForm.value.commission,game1:this.game1,game2:this.game2,game3:this.game3,game4:this.game4,game5:this.game5}).subscribe(a=>{1===a.success?(this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.highLightedRowIndex=0,this.terminalMasterForm.reset(),setTimeout(()=>{this.highLightedRowIndex=-1},5e3),p().fire({position:"top-end",icon:"success",title:"Terminal created",showConfirmButton:!1,timer:1e3})):p().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{})})}checkPinValidation(){this.commonService.checkPinValidation(this.terminalMasterForm.value.terminalName).subscribe(t=>{0===t.success?(p().fire({position:"top-end",icon:"error",title:"User already exists",showConfirmButton:!1,timer:2e3}),this.pinCheckValidator=!0,this.terminalMasterForm.patchValue({terminalName:null})):this.pinCheckValidator=!1})}getBackgroundColor(t,i){return t==this.highLightedRowIndex?{"background-color":"rgb(103 245 166 / 60%)",animation:"blinking 1s infinite"}:"Offline"===i.status?{"background-color":"#f08080"}:"Online"===i.status?{"background-color":"#90ee90"}:void 0}clearMasterTerminalForm(){this.terminalMasterForm.reset(),this.highLightedRowIndex=-1,this.isTerminalUpdatAble=!1}sortData(t){const i=this.terminals.slice();this.sortedTerminalList=t.active&&""!==t.direction?i.sort((r,a)=>{const c="asc"===t.direction;switch(t.active){case"terminalName":return O(r.terminalName,a.terminalName,c);case"stockistName":return O(r.stockist.userName,a.stockist.userName,c);case"balance":return O(r.balance,a.balance,c);default:return 0}}):i}rechargeToTerminal(){parseInt(this.terminalLimitForm.value.amount)<0?p().fire({position:"top-end",icon:"info",title:"Amount cannot be negative",showConfirmButton:!1,timer:3e3}):parseInt(this.terminalLimitForm.value.amount)>parseInt(String(this.user.balance))?p().fire({position:"top-end",icon:"info",title:"Low Balance",showConfirmButton:!1,timer:3e3}):p().fire({title:"Confirmation",text:"Do you sure to recharge?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, recharge It!"}).then(t=>{t.isConfirmed&&this.masterTerminalService.saveTerminalBalance({beneficiaryUid:this.terminalLimitForm.value.beneficiaryUid,stockistId:this.selectedTerminalTransferPoint.stockist.userId,amount:this.terminalLimitForm.value.amount,rechargeDoneByUid:this.user.userId}).subscribe(r=>{if(1===r.success){const a=r.data,c=this.terminals.findIndex(N=>N.terminalId===a.terminalId);this.terminals[c].balance=a.balance,this.terminals[c].stockist.balance=a.stockist.balance,this.authService.setUserBalanceBy(this.user.balance-this.terminalLimitForm.value.amount),this.sortedTerminalList[c].balance=a.balance,this.sortedTerminalList[c].stockist.balance=a.stockist.balance,this.highLightedRowIndex=c,this.terminalLimitForm.controls.amount.setValidators([s.kI.max(a.stockist.balance)]),this.terminalLimitForm.patchValue({amount:""}),setTimeout(()=>{this.highLightedRowIndex=-1},1e4),p().fire({position:"top-end",icon:"success",title:"Recharge done",showConfirmButton:!1,timer:1e3})}else p().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},r=>{})})}adjustPointToTerminal(){parseInt(this.terminalAdjustLimitForm.value.amount)<0?p().fire({position:"top-end",icon:"info",title:"Amount cannot be negative",showConfirmButton:!1,timer:3e3}):p().fire({title:"Confirmation",text:"Do you sure to recharge?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, recharge It!"}).then(t=>{t.isConfirmed&&this.masterTerminalService.saveTerminalBalance({beneficiaryUid:this.terminalAdjustLimitForm.value.beneficiaryUid,stockistId:this.selectedTerminal.stockist.userId,amount:-this.terminalAdjustLimitForm.value.amount,rechargeDoneByUid:this.user.userId}).subscribe(r=>{if(1===r.success){const a=r.data,c=this.terminals.findIndex(N=>N.terminalId===a.terminalId);this.terminals[c].balance=a.balance,this.terminals[c].stockist.balance=a.stockist.balance,this.authService.setUserBalanceBy(this.user.balance-this.terminalAdjustLimitForm.value.amount),this.sortedTerminalList[c].balance=a.balance,this.sortedTerminalList[c].stockist.balance=a.stockist.balance,this.highLightedRowIndex=c,this.terminalAdjustLimitForm.controls.amount.setValidators([s.kI.max(a.stockist.balance)]),this.terminalAdjustLimitForm.patchValue({amount:""}),setTimeout(()=>{this.highLightedRowIndex=-1},1e4),p().fire({position:"top-end",icon:"success",title:"Recharge done",showConfirmButton:!1,timer:1e3})}else p().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},r=>{})})}getTransactionDetails(){this.masterTerminalService.getTransactionDetails(this.selectedTerminal.terminalId).subscribe(t=>{this.transactionDetails=t.data})}sendMailTransaction(){if(null==this.transactionId)return void p().fire({position:"top-end",icon:"info",title:"Select terminal",showConfirmButton:!1,timer:2e3});const t={email:this.emailFormControl.value,sentBy:this.user.userId,terminalId:this.transactionId};this.mailStatus=1,this.masterTerminalService.sendMailTransaction(t).subscribe(i=>{1===i.success&&(this.mailStatus=0,p().fire({position:"top-end",icon:"success",title:"Mail Sent",showConfirmButton:!1,timer:1e3}),this.emailFormControl.reset())})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.S),e.Y36(J.E),e.Y36(M.e),e.Y36(L.Q),e.Y36(F.v),e.Y36(w.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-master-terminal"]],decls:318,vars:51,consts:[[2,"text-align","center"],[3,"selectedIndex"],["label","Create"],[1,"flex-row","mt-2"],[1,"col"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["fxFlex","100"],[3,"formGroup"],["type","text","matInput","","formControlName","terminalName","placeholder","Enter name",3,"change"],["class","container","fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",4,"ngIf"],["type","text","matInput","","formControlName","pin","placeholder","Enter name"],["formControlName","stockistId","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","payoutSlabId"],["formControlName","superStockistId","disabled",""],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,""],[1,"m-1","p-0"],["type","text","matInput","","formControlName","commission","placeholder","Commission"],[2,"color","red"],[1,"col-8","m-0","p-0"],["fxFlex","100","class","d-flex ",4,"ngIf"],["mat-raised-button","","color","primary","mat-stroked-button","",1,"pull-right",3,"click"],["mat-raised-button","","color","primary","mat-stroked-button","",1,"pull-right",3,"disabled","click"],["mat-raised-button","","color","warn","mat-stroked-button","",1,"pull-right",3,"click"],[1,"mt-2",2,"background-color","#6c757d5e"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important",3,"matSortChange"],["scope","colgroup","colspan","6",1,"text-center"],["scope","colgroup","colspan","2",1,"text-center"],["placeholder","Search",1,"col-12",3,"ngModel","ngModelChange"],["placeholder","Items",1,"col-12",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"click"],[1,"material-icons"],["mat-sort-header","terminalName"],["mat-sort-header","pin"],["mat-sort-header","balance"],["mat-sort-header","stockistName"],["mat-sort-header","edit"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"pageChange"],["label","Transfer Point"],[1,"d-flex","flex-row","mt-2"],[1,"col-2"],[1,"col-8"],["fxFlex","25"],["formControlName","beneficiaryUid",3,"selectionChange"],["appearance","legacy",4,"ngIf"],["class","container","fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",4,"ngIf"],["label","Adjust Point"],["label","Full Transaction"],["fxFlex","45"],["fxFlex","row"],[3,"ngModel","value","ngModelChange",4,"ngFor","ngForOf"],["fxFlex","50",1,"ml-5"],[1,""],[1,"d-flex","col-7"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","placeholder","Ex. pat@example.com",3,"formControl"],[1,"d-flex","mt-2"],["style","max-height: 40px","mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],[1,"d-flex"],["mat-raised-button","","color","warn",1,"ml-4",3,"click"],["scope","colgroup","colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],["label","Terminal Tranaction"],["fxFlex","60"],["bindLabel","pin","bindValue","terminalId",3,"items","ngModel","ngModelChange"],["label","Game Allocation"],["appearance","fill",1,"example-full-width","col-5"],["matInput","","placeholder","Terminal Name",3,"ngModel","ngModelChange"],[1,"table","table-bordered","col-8"],["scope","colgroup","colspan","3",1,"text-center"],["scope","col"],["class","d-flex",4,"ngIf"],["fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[4,"ngIf"],[3,"value"],["fxFlex","100",1,"d-flex"],["fxFlex","30",1,"m-2"],["type","checkbox",3,"checked","click"],["fxFlex","15",1,"m-2"],[3,"ngStyle"],["mat-button","","color","primary","style","border: black solid 1px",3,"click",4,"ngIf"],[2,"cursor","pointer"],["src","assets/images/transfer_point.png",3,"click"],["src","assets/images/adjust_point.png",3,"click"],[1,"bi","bi-pencil-square",3,"click"],["loading","lazy","decoding","async","height","20","src","assets/images/pc_print.png"],[1,"bi","bi-pc-display-horizontal"],["loading","lazy","decoding","async","height","20","src","assets/images/mobile_print.png"],[1,"bi","bi-phone"],["mat-button","","color","primary",2,"border","black solid 1px",3,"click"],["appearance","legacy"],["type","text","matInput","","readonly","","placeholder","Stockist",3,"value"],["matSuffix",""],["type","text","readonly","","matInput","","placeholder","Current balance",3,"value"],["class","d-flex","fxFlex","100",4,"ngIf"],["type","number","min","1","matInput","","formControlName","amount","placeholder","Enter amount"],[3,"ngModel","value","ngModelChange"],["mat-raised-button","","color","warn",2,"max-height","40px",3,"disabled","click"],[1,"col-3"],[3,"change"],[1,"col-6"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Terminal"),e.qZA()(),e.TgZ(3,"mat-tab-group",1)(4,"mat-tab",2)(5,"div",3)(6,"div",4)(7,"mat-card")(8,"mat-card-header"),e._UZ(9,"div",5),e.TgZ(10,"mat-card-title"),e._uU(11,"New Terminal Form"),e.qZA()(),e.TgZ(12,"mat-card-content")(13,"div",6)(14,"div",7)(15,"form",8)(16,"div",6)(17,"mat-form-field",7)(18,"mat-label"),e._uU(19,"Terminal Name"),e.qZA(),e.TgZ(20,"input",9),e.NdJ("change",function(){return i.checkPinValidation()}),e.qZA(),e.YNc(21,R,3,2,"div",10),e.qZA(),e.TgZ(22,"mat-form-field",7)(23,"mat-label"),e._uU(24,"PIN"),e.qZA(),e._UZ(25,"input",11),e.qZA()(),e.TgZ(26,"div",6)(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Stockist"),e.qZA(),e.TgZ(30,"mat-select",12),e.YNc(31,Y,2,2,"mat-option",13),e.qZA()()(),e.TgZ(32,"div",6)(33,"mat-form-field",7)(34,"mat-label"),e._uU(35,"Payout Slab"),e.qZA(),e.TgZ(36,"mat-select",14),e.YNc(37,G,2,2,"mat-option",13),e.qZA()()(),e.TgZ(38,"div",6)(39,"mat-form-field",7)(40,"mat-label"),e._uU(41,"Super Stockist"),e.qZA(),e.TgZ(42,"mat-select",15),e.YNc(43,V,2,2,"mat-option",13),e.qZA()()(),e.TgZ(44,"div",16)(45,"div",17)(46,"mat-form-field")(47,"mat-label"),e._uU(48,"Commission"),e.qZA(),e._UZ(49,"input",18),e.qZA(),e.TgZ(50,"label",19),e._uU(51),e.qZA()(),e.TgZ(52,"div",20),e.YNc(53,j,21,5,"div",21),e.qZA()()()()(),e.TgZ(54,"div",6)(55,"button",22),e.NdJ("click",function(){return i.createNewTerminal()}),e._uU(56,"Create"),e.qZA(),e.TgZ(57,"button",23),e.NdJ("click",function(){return i.updateTerminal()}),e._uU(58,"Update"),e.qZA(),e.TgZ(59,"button",24),e.NdJ("click",function(){return i.clearMasterTerminalForm()}),e._uU(60,"clear"),e.qZA()()()()(),e.TgZ(61,"div",25)(62,"table",26),e.NdJ("matSortChange",function(a){return i.sortData(a)}),e.TgZ(63,"thead")(64,"tr")(65,"th",27),e._uU(66,"Terminal List"),e.qZA(),e.TgZ(67,"th",28)(68,"label"),e._uU(69,"Search"),e.qZA(),e.TgZ(70,"input",29),e.NdJ("ngModelChange",function(a){return i.searchItem=a}),e.qZA()(),e.TgZ(71,"th",28)(72,"label"),e._uU(73,"No. of items"),e.qZA(),e.TgZ(74,"input",30),e.NdJ("ngModelChange",function(a){return i.itemsOnEveryPage=a}),e.qZA()(),e.TgZ(75,"th",28)(76,"button",31),e.NdJ("click",function(){return i.refreshTerminalList()}),e._uU(77," Refresh "),e.TgZ(78,"span",32),e._uU(79,"refresh"),e.qZA()()()(),e.TgZ(80,"tr")(81,"th"),e._uU(82,"Id"),e.qZA(),e.TgZ(83,"th",33),e._uU(84,"T name"),e.qZA(),e.TgZ(85,"th",34),e._uU(86,"Pass"),e.qZA(),e.TgZ(87,"th",35),e._uU(88,"Comm"),e.qZA(),e.TgZ(89,"th",35),e._uU(90,"Balance"),e.qZA(),e.TgZ(91,"th",36),e._uU(92,"SS Name"),e.qZA(),e.TgZ(93,"th",36),e._uU(94,"S Name"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Login Approve"),e.qZA(),e.TgZ(97,"th"),e._uU(98,"Action"),e.qZA(),e.TgZ(99,"th",36),e._uU(100,"Blocked"),e.qZA(),e.TgZ(101,"th",36),e._uU(102,"Auto Claim"),e.qZA(),e.TgZ(103,"th",37),e._uU(104,"Edit"),e.qZA()()(),e.TgZ(105,"tbody"),e.YNc(106,ee,33,16,"tr",38),e.ALo(107,"paginate"),e.ALo(108,"filter"),e.qZA()(),e.TgZ(109,"pagination-controls",39),e.NdJ("pageChange",function(a){return i.p1=a}),e.qZA()()()(),e.TgZ(110,"mat-tab",40)(111,"div",41),e._UZ(112,"div",42),e.TgZ(113,"div",43)(114,"mat-card")(115,"mat-card-header"),e._UZ(116,"div",5),e.TgZ(117,"mat-card-title"),e._uU(118,"Recharge Terminal"),e.qZA()(),e.TgZ(119,"mat-card-content")(120,"div",6)(121,"div",7)(122,"form",8)(123,"div",6)(124,"mat-form-field",44)(125,"mat-label"),e._uU(126,"Terminal"),e.qZA(),e.TgZ(127,"mat-select",45),e.NdJ("selectionChange",function(a){return i.onTerminalSelectTransferPoint(a)}),e.YNc(128,te,2,2,"mat-option",13),e.qZA()(),e.YNc(129,ie,6,1,"mat-form-field",46),e.YNc(130,ne,6,1,"mat-form-field",46),e.qZA(),e.YNc(131,oe,3,2,"div",47),e.YNc(132,le,2,1,"div",47),e.TgZ(133,"div",6)(134,"button",24),e.NdJ("click",function(){return i.rechargeToTerminal()}),e._uU(135,"Save"),e.qZA()()()()()()()(),e._UZ(136,"div",42),e.qZA()(),e.TgZ(137,"mat-tab",48)(138,"div",41),e._UZ(139,"div",42),e.TgZ(140,"div",43)(141,"mat-card")(142,"mat-card-header"),e._UZ(143,"div",5),e.TgZ(144,"mat-card-title"),e._uU(145,"Recharge Terminal"),e.qZA()(),e.TgZ(146,"mat-card-content")(147,"div",6)(148,"div",7)(149,"form",8)(150,"div",6)(151,"mat-form-field",44)(152,"mat-label"),e._uU(153,"Terminal"),e.qZA(),e.TgZ(154,"mat-select",45),e.NdJ("selectionChange",function(a){return i.onTerminalSelect(a)}),e.YNc(155,me,2,2,"mat-option",13),e.qZA()(),e.YNc(156,ce,6,1,"mat-form-field",46),e.YNc(157,de,6,1,"mat-form-field",46),e.qZA(),e.YNc(158,_e,3,2,"div",47),e.YNc(159,fe,2,1,"div",47),e.TgZ(160,"div",6)(161,"button",24),e.NdJ("click",function(){return i.adjustPointToTerminal()}),e._uU(162,"Save"),e.qZA()()()()()()()(),e._UZ(163,"div",42),e.qZA()(),e.TgZ(164,"mat-tab",49)(165,"div",41),e._UZ(166,"div",42),e.TgZ(167,"div",43)(168,"mat-card")(169,"mat-card-header"),e._UZ(170,"div",5),e.TgZ(171,"mat-card-title"),e._uU(172,"Terminal Transaction Report"),e.qZA()(),e.TgZ(173,"mat-card-content")(174,"div",6)(175,"div",7)(176,"div",50)(177,"mat-form-field",51)(178,"mat-label"),e._uU(179,"Terminal"),e.qZA(),e.TgZ(180,"mat-select",45),e.NdJ("selectionChange",function(a){return i.onTerminalSelect(a)}),e.YNc(181,he,2,3,"mat-option",52),e.qZA()()(),e.TgZ(182,"div",53)(183,"div",54)(184,"div",55)(185,"form",56)(186,"mat-form-field",57)(187,"mat-label"),e._uU(188,"Email"),e.qZA(),e._UZ(189,"input",58),e.qZA(),e.TgZ(190,"label",19),e._uU(191,"NOTE: Only 30 days transaction will be mailed"),e.qZA()()(),e.TgZ(192,"div",59),e.YNc(193,Te,2,1,"button",60),e.qZA()()()()()(),e.TgZ(194,"div",61)(195,"button",62),e.NdJ("click",function(){return i.getTransactionDetails()}),e._uU(196,"Get Transaction"),e.qZA()()()(),e._UZ(197,"div",42),e.qZA(),e.TgZ(198,"div",25)(199,"table",26),e.NdJ("matSortChange",function(a){return i.sortData(a)}),e.TgZ(200,"thead")(201,"tr")(202,"th",63),e._uU(203,"Terminal List"),e.qZA(),e.TgZ(204,"th",28)(205,"label"),e._uU(206,"Search"),e.qZA(),e.TgZ(207,"input",29),e.NdJ("ngModelChange",function(a){return i.searchItem=a}),e.qZA()(),e.TgZ(208,"th",28)(209,"label"),e._uU(210,"No. of items"),e.qZA(),e.TgZ(211,"input",30),e.NdJ("ngModelChange",function(a){return i.itemsOnEveryPage=a}),e.qZA()()(),e.TgZ(212,"tr")(213,"th"),e._uU(214,"SL No."),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Description"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"Date and Time"),e.qZA(),e.TgZ(219,"th"),e._uU(220,"Game Name"),e.qZA(),e.TgZ(221,"th"),e._uU(222,"Barcode"),e.qZA(),e.TgZ(223,"th"),e._uU(224,"Opening balance"),e.qZA(),e.TgZ(225,"th"),e._uU(226,"Recharged"),e.qZA(),e.TgZ(227,"th"),e._uU(228,"Played"),e.qZA(),e.TgZ(229,"th"),e._uU(230,"Prize"),e.qZA(),e.TgZ(231,"th"),e._uU(232,"Closing Balance"),e.qZA()()(),e.TgZ(233,"tbody"),e.YNc(234,Ze,21,11,"tr",64),e.qZA()(),e.TgZ(235,"pagination-controls",39),e.NdJ("pageChange",function(a){return i.p1=a}),e.qZA()()(),e.TgZ(236,"mat-tab",65)(237,"div",41),e._UZ(238,"div",42),e.TgZ(239,"div",43)(240,"mat-card")(241,"mat-card-header"),e._UZ(242,"div",5),e.TgZ(243,"mat-card-title"),e._uU(244,"Terminal Transaction Report"),e.qZA()(),e.TgZ(245,"mat-card-content")(246,"div",6)(247,"div",7)(248,"div",66)(249,"ng-select",67),e.NdJ("ngModelChange",function(a){return i.rechargedToID=a}),e.qZA()()()(),e.TgZ(250,"button",62),e.NdJ("click",function(){return i.getTransaction()}),e._uU(251,"Search"),e.qZA()()()(),e._UZ(252,"div",42),e.qZA(),e.TgZ(253,"div",25)(254,"table",26),e.NdJ("matSortChange",function(a){return i.sortData(a)}),e.TgZ(255,"thead")(256,"tr")(257,"th",63),e._uU(258,"Terminal List"),e.qZA()(),e.TgZ(259,"tr")(260,"th"),e._uU(261,"Id"),e.qZA(),e.TgZ(262,"th",33),e._uU(263,"Recharge To"),e.qZA(),e.TgZ(264,"th",34),e._uU(265,"Recharge By"),e.qZA(),e.TgZ(266,"th",35),e._uU(267,"Old Amount"),e.qZA(),e.TgZ(268,"th",35),e._uU(269,"Recharged Amount"),e.qZA(),e.TgZ(270,"th",36),e._uU(271,"New Amount"),e.qZA(),e.TgZ(272,"th",36),e._uU(273,"Date and Time"),e.qZA()()(),e.TgZ(274,"tbody"),e.YNc(275,xe,15,7,"tr",64),e.qZA()(),e.TgZ(276,"pagination-controls",39),e.NdJ("pageChange",function(a){return i.p1=a}),e.qZA()()(),e.TgZ(277,"mat-tab",68)(278,"mat-form-field",69)(279,"mat-label"),e._uU(280,"Terminal Name"),e.qZA(),e.TgZ(281,"input",70),e.NdJ("ngModelChange",function(a){return i.terminalFilter=a}),e.qZA()(),e.TgZ(282,"table",71)(283,"thead")(284,"tr")(285,"th",28),e._uU(286,"Game Allocation"),e.qZA(),e.TgZ(287,"th",72)(288,"label"),e._uU(289,"Search"),e.qZA(),e.TgZ(290,"input",29),e.NdJ("ngModelChange",function(a){return i.searchItem=a}),e.qZA()(),e.TgZ(291,"th",28)(292,"label"),e._uU(293,"No. of items"),e.qZA(),e.TgZ(294,"input",30),e.NdJ("ngModelChange",function(a){return i.itemsOnEveryPage=a}),e.qZA()()(),e.TgZ(295,"tr")(296,"th",73),e._uU(297,"Sl. no."),e.qZA(),e.TgZ(298,"th",73),e._uU(299,"Terminal Name"),e.qZA(),e.TgZ(300,"th",73),e._uU(301,"Triple Chance"),e.qZA(),e.TgZ(302,"th",73),e._uU(303,"12 Card"),e.qZA(),e.TgZ(304,"th",73),e._uU(305,"16 Card"),e.qZA(),e.TgZ(306,"th",73),e._uU(307,"Single"),e.qZA(),e.TgZ(308,"th",73),e._uU(309,"Double"),e.qZA(),e.TgZ(310,"th",73),e._uU(311,"Rollet"),e.qZA()()(),e.TgZ(312,"tbody"),e.YNc(313,Ae,17,8,"tr",64),e.ALo(314,"filter"),e.qZA()(),e.TgZ(315,"pagination-controls",39),e.NdJ("pageChange",function(a){return i.p1=a}),e.qZA()()(),e.YNc(316,ve,4,1,"div",74),e.YNc(317,Ce,7,2,"div",74)),2&t&&(e.xp6(3),e.Q6J("selectedIndex",i.selectedTab),e.xp6(12),e.Q6J("formGroup",i.terminalMasterForm),e.xp6(6),e.Q6J("ngIf",!i.terminalMasterForm.get("terminalName").valid&&i.terminalMasterForm.get("terminalName").touched),e.xp6(10),e.Q6J("ngForOf",i.stockists),e.xp6(6),e.Q6J("ngForOf",i.payoutSlabs),e.xp6(6),e.Q6J("ngForOf",i.superStockists),e.xp6(8),e.hij("(Max: ",i.user.commission,")"),e.xp6(2),e.Q6J("ngIf",!i.isTerminalUpdatAble),e.xp6(4),e.Q6J("disabled",!i.isTerminalUpdatAble),e.xp6(13),e.Q6J("ngModel",i.searchItem),e.xp6(4),e.Q6J("ngModel",i.itemsOnEveryPage),e.xp6(32),e.Q6J("ngForOf",e.xi3(107,39,e.xi3(108,42,i.sortedTerminalList,i.searchItem),e.WLB(48,ke,i.itemsOnEveryPage,i.p1))),e.xp6(16),e.Q6J("formGroup",i.terminalLimitForm),e.xp6(6),e.Q6J("ngForOf",i.sortedTerminalList),e.xp6(1),e.Q6J("ngIf",i.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",i.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",i.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",i.selectedTerminalTransferPoint),e.xp6(17),e.Q6J("formGroup",i.terminalAdjustLimitForm),e.xp6(6),e.Q6J("ngForOf",i.sortedTerminalList),e.xp6(1),e.Q6J("ngIf",i.selectedTerminal),e.xp6(1),e.Q6J("ngIf",i.selectedTerminal),e.xp6(1),e.Q6J("ngIf",i.selectedTerminal),e.xp6(1),e.Q6J("ngIf",i.selectedTerminal),e.xp6(22),e.Q6J("ngForOf",i.sortedTerminalList),e.xp6(8),e.Q6J("formControl",i.emailFormControl),e.xp6(4),e.Q6J("ngIf",0===i.mailStatus),e.xp6(14),e.Q6J("ngModel",i.searchItem),e.xp6(4),e.Q6J("ngModel",i.itemsOnEveryPage),e.xp6(23),e.Q6J("ngForOf",i.transactionDetails),e.xp6(15),e.Q6J("items",i.sortedTerminalList)("ngModel",i.rechargedToID),e.xp6(26),e.Q6J("ngForOf",i.transactionData),e.xp6(6),e.Q6J("ngModel",i.terminalFilter),e.xp6(9),e.Q6J("ngModel",i.searchItem),e.xp6(4),e.Q6J("ngModel",i.itemsOnEveryPage),e.xp6(19),e.Q6J("ngForOf",e.xi3(314,45,i.sortedTerminalList,i.terminalFilter)),e.xp6(3),e.Q6J("ngIf",!i.isProduction),e.xp6(1),e.Q6J("ngIf",!i.isProduction&&i.showDevArea))},dependencies:[Z.sg,Z.O5,Z.PC,b.SP,b.uX,P.lW,f.TO,f.KE,f.hX,f.R9,E.Nt,U.xw,U.SQ,U.Wh,U.yH,_.Zl,d.a8,d.dk,d.dn,d.n5,d.kc,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.On,s.F,s.oH,s.sg,s.u,u.Rr,g.YE,g.nU,T.gD,h.ey,I.Hw,S.w9,C.LS,q.Z,C._s],styles:[".red-color[_ngcontent-%COMP%]{color:red;font-size:20px}.green-color[_ngcontent-%COMP%]{color:#1aff00;font-size:20px}"]}),n})();function O(n,o,t){return(n<o?-1:1)*(t?1:-1)}const Ue=[{path:"",canActivate:[m(3846).C],component:Me}];let Ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[x.Bz.forChild(Ue),x.Bz]}),n})();var Se=m(5480),qe=m(1620),Ne=m(1572);let ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.ez,Ie,b.Nh,Se.q,qe.o9,d.QW,s.u5,s.UX,u.rP,g.JX,T.LD,I.Ps,S.A0,g.JX,q.h,C.JX,Ne.Cq]}),n})()},1572:(D,A,m)=>{m.d(A,{Cq:()=>E,Ou:()=>f});var Z=m(1281),x=m(3353),v=m(1384),s=m(6895),l=m(4650),p=m(3238),e=m(727);function y(_,d){if(1&_&&(l.O4$(),l._UZ(0,"circle",4)),2&_){const u=l.oxw(),g=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+u._spinnerAnimationLabel)("stroke-dashoffset",u._getStrokeDashOffset(),"px")("stroke-dasharray",u._getStrokeCircumference(),"px")("stroke-width",u._getCircleStrokeWidth(),"%")("transform-origin",u._getCircleTransformOrigin(g)),l.uIk("r",u._getCircleRadius())}}function J(_,d){if(1&_&&(l.O4$(),l._UZ(0,"circle",4)),2&_){const u=l.oxw(),g=l.MAs(1);l.Udp("stroke-dashoffset",u._getStrokeDashOffset(),"px")("stroke-dasharray",u._getStrokeCircumference(),"px")("stroke-width",u._getCircleStrokeWidth(),"%")("transform-origin",u._getCircleTransformOrigin(g)),l.uIk("r",u._getCircleRadius())}}const F=(0,p.pj)(class{constructor(_){this._elementRef=_}},"primary"),w=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function b(){return{diameter:100}}});class f extends F{constructor(d,u,g,T,h,I,S,C){super(d),this._document=g,this._diameter=100,this._value=0,this._resizeSubscription=e.w0.EMPTY,this.mode="determinate";const q=f._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),q.has(g.head)||q.set(g.head,new Set([100])),this._noopAnimations="NoopAnimations"===T&&!!h&&!h._forceAnimations,"mat-spinner"===d.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),h&&(h.diameter&&(this.diameter=h.diameter),h.strokeWidth&&(this.strokeWidth=h.strokeWidth)),u.isBrowser&&u.SAFARI&&S&&I&&C&&(this._resizeSubscription=S.change(150).subscribe(()=>{"indeterminate"===this.mode&&C.run(()=>I.markForCheck())}))}get diameter(){return this._diameter}set diameter(d){this._diameter=(0,Z.su)(d),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(d){this._strokeWidth=(0,Z.su)(d)}get value(){return"determinate"===this.mode?this._value:0}set value(d){this._value=Math.max(0,Math.min(100,(0,Z.su)(d)))}ngOnInit(){const d=this._elementRef.nativeElement;this._styleRoot=(0,x.kV)(d)||this._document.head,this._attachStyleNode(),d.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const d=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${d} ${d}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(d){const u=50*(d.currentScale??1);return`${u}% ${u}%`}_attachStyleNode(){const d=this._styleRoot,u=this._diameter,g=f._diameters;let T=g.get(d);if(!T||!T.has(u)){const h=this._document.createElement("style");h.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),h.textContent=this._getAnimationText(),d.appendChild(h),T||(T=new Set,g.set(d,T)),T.add(u)}}_getAnimationText(){const d=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*d).replace(/END_VALUE/g,""+.2*d).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}f._diameters=new WeakMap,f.\u0275fac=function(d){return new(d||f)(l.Y36(l.SBq),l.Y36(x.t4),l.Y36(s.K0,8),l.Y36(l.QbO,8),l.Y36(w),l.Y36(l.sBO),l.Y36(v.rL),l.Y36(l.R0b))},f.\u0275cmp=l.Xpm({type:f,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(d,u){2&d&&(l.uIk("aria-valuemin","determinate"===u.mode?0:null)("aria-valuemax","determinate"===u.mode?100:null)("aria-valuenow","determinate"===u.mode?u.value:null)("mode",u.mode),l.Udp("width",u.diameter,"px")("height",u.diameter,"px"),l.ekj("_mat-animation-noopable",u._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(d,u){1&d&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,y,1,11,"circle",2),l.YNc(3,J,1,9,"circle",3),l.qZA()),2&d&&(l.Udp("width",u.diameter,"px")("height",u.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===u.mode),l.uIk("viewBox",u._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},dependencies:[s.RF,s.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let E=(()=>{class _{}return _.\u0275fac=function(u){return new(u||_)},_.\u0275mod=l.oAB({type:_}),_.\u0275inj=l.cJS({imports:[[p.BQ,s.ez],p.BQ]}),_})()}}]);