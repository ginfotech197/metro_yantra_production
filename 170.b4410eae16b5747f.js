"use strict";(self.webpackChunkbase_project=self.webpackChunkbase_project||[]).push([[170],{5480:(V,k,m)=>{m.d(k,{q:()=>v});var A=m(4859),C=m(4144),S=m(4650);let v=(()=>{class o{}return o.\u0275fac=function(u){return new(u||o)},o.\u0275mod=S.oAB({type:o}),o.\u0275inj=S.cJS({imports:[A.ot,C.c]}),o})()},1170:(V,k,m)=>{m.r(k),m.d(k,{MasterTerminalModule:()=>we});var A=m(6895),C=m(2510),S=m(1068),v=m(2340),o=m(4006),M=m(5226),u=m.n(M),e=m(4650),B=m(2088),y=m(2173),D=m(7431),P=m(9366),Q=m(1599),R=m(5620),q=m(3848),Z=m(4859),U=m(9549),Y=m(4144),p=m(277),d=m(4784),c=m(3546),_=m(6308),x=m(4385),T=m(3238),N=m(7392),L=m(4537),I=m(8567),J=m(1572),W=m(3189);let K=(()=>{class i{static isString(t){return"string"==typeof t||t instanceof String}static caseInsensitiveSort(t,n){return i.isString(t)&&i.isString(n)?t.localeCompare(n):i.defaultCompare(t,n)}static defaultCompare(t,n){return t&&t instanceof Date&&(t=t.getTime()),n&&n instanceof Date&&(n=n.getTime()),t===n?0:null==t?1:null==n?-1:t>n?1:-1}static parseExpression(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}static getValue(t,n){for(let a=0,r=n.length;a<r;++a){if(!t)return;const l=n[a];if(!(l in t))return;t="function"==typeof t[l]?t[l]():t[l]}return t}static setValue(t,n,a){let r;for(r=0;r<a.length-1;r++)t=t[a[r]];t[a[r]]=n}transform(t,n,a,r=!1,l){return t&&(Array.isArray(n)?this.multiExpressionTransform(t,n.slice(),a,r,l):Array.isArray(t)?this.sortArray(t.slice(),n,a,r,l):"object"==typeof t?this.transformObject(Object.assign({},t),n,a,r,l):t)}sortArray(t,n,a,r,l){const h=n&&-1!==n.indexOf(".");let g;h&&(n=i.parseExpression(n)),g=l&&"function"==typeof l?l:r?i.caseInsensitiveSort:i.defaultCompare;const b=t.sort((F,E)=>n?h?g(i.getValue(F,n),i.getValue(E,n)):F&&E?g(F[n],E[n]):g(F,E):g(F,E));return a?b.reverse():b}transformObject(t,n,a,r,l){const h=i.parseExpression(n);let g=h.pop(),b=i.getValue(t,h);return Array.isArray(b)||(h.push(g),g=null,b=i.getValue(t,h)),b&&i.setValue(t,this.transform(b,g,a,r),h),t}multiExpressionTransform(t,n,a,r=!1,l){return n.reverse().reduce((h,g)=>this.transform(h,g,a,r,l),t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"orderBy",type:i,pure:!1}),i})(),G=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[K]}),i})();function $(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-option",80),e.NdJ("blur",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.selectSuperStockist(r))}),e._uU(1),e.qZA()}if(2&i){const t=s.$implicit;e.Q6J("value",t.userId),e.xp6(1),e.AsE(" ",t.userName," (",t.commission,"%) ")}}function X(i,s){if(1&i&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.userId),e.xp6(1),e.hij(" ",t.userName," ")}}function H(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij("Minimum length of name is ",t.terminalMasterForm.get("terminalName").errors.minlength.requiredLength,"")}}function j(i,s){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,H,2,1,"mat-error",72),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.terminalMasterForm.get("terminalName").errors.minlength)}}const f=function(i){return{"font-size":i}};function z(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",84)(2,"mat-label",5),e._uU(3,"Single "),e.qZA(),e.TgZ(4,"input",85),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.enableGameCreateTerminal(4))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(3,f,t.screenWidth>=1366?"15px":"25px")),e.xp6(2),e.Q6J("ngStyle",e.VKq(5,f,t.screenWidth>=1366?"15px":"25px"))("checked",1==t.game4)}}function ee(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",94),e.qZA())}function te(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"i",95),e.qZA())}function ne(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",96),e.qZA())}function ie(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"i",97),e.qZA())}function re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.approveLogin(a))}),e._uU(1,"Approve"),e.qZA()}}function ae(i,s){1&i&&(e.TgZ(0,"label"),e._uU(1,"Approved"),e.qZA())}function oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",99),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.forceLogout(a.terminalId))}),e._uU(1,"Logout"),e.qZA()}}function se(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",5)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",86),e._uU(4),e.YNc(5,ee,2,0,"div",72),e.YNc(6,te,2,0,"div",72),e.YNc(7,ne,2,0,"div",72),e.YNc(8,ie,2,0,"div",72),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e.YNc(20,re,2,0,"button",87),e.YNc(21,ae,2,0,"label",72),e.qZA(),e.TgZ(22,"td")(23,"a",88)(24,"img",89),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return l.onTerminalSelectTransferPoint(r.terminalId),e.KtG(l.selectedTab=1)}),e.qZA()(),e.TgZ(25,"a",88)(26,"img",90),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return l.onTerminalSelect(r.terminalId),e.KtG(l.selectedTab=2)}),e.qZA()()(),e.TgZ(27,"td")(28,"input",91),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.updateBlock(r.terminalId))}),e.qZA()(),e.TgZ(29,"td"),e.YNc(30,oe,2,0,"button",92),e.qZA(),e.TgZ(31,"td")(32,"input",91),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.updateAutoClaim(r.terminalId))}),e.qZA()(),e.TgZ(33,"td")(34,"i",93),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editTerminal(r))}),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index,a=e.oxw();e.Q6J("ngStyle",a.getBackgroundColor(n,t)),e.xp6(2),e.hij("",n+1," "),e.xp6(2),e.hij(" ",t.terminalName," "),e.xp6(1),e.Q6J("ngIf","exe"==t.platform&&"P"==t.version),e.xp6(1),e.Q6J("ngIf","exe"==t.platform&&"NP"==t.version),e.xp6(1),e.Q6J("ngIf","apk"==t.platform&&"P"==t.version),e.xp6(1),e.Q6J("ngIf","apk"==t.platform&&"NP"==t.version),e.xp6(2),e.Oqu(t.password),e.xp6(2),e.Oqu(t.commission),e.xp6(2),e.Oqu(t.balance),e.xp6(2),e.Oqu(t.superStockist.userName),e.xp6(2),e.Oqu(t.stockist.userName),e.xp6(2),e.Q6J("ngIf",1==t.loginActivate),e.xp6(1),e.Q6J("ngIf",2==t.loginActivate),e.xp6(7),e.Q6J("checked",1==t.blocked),e.xp6(2),e.Q6J("ngIf","Online"===t.status),e.xp6(2),e.Q6J("checked",1==t.autoClaim)}}function le(i,s){if(1&i&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function me(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",101),e.TgZ(4,"mat-icon",102),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.terminalName)}}function ce(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Current balance"),e.qZA(),e._UZ(3,"input",103),e.TgZ(4,"mat-icon",102),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.balance)}}function de(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Stockist owner"),e.qZA(),e._UZ(3,"input",101),e.TgZ(4,"mat-icon",102),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.stockist.userName)}}function ue(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Stockist balance"),e.qZA(),e._UZ(3,"input",103),e.TgZ(4,"mat-icon",102),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.stockist.balance)}}function pe(i,s){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,de,6,1,"mat-form-field",47),e.YNc(2,ue,6,1,"mat-form-field",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint)}}function ge(i,s){1&i&&(e.TgZ(0,"mat-form-field",105)(1,"mat-label"),e._uU(2,"Recharge amount"),e.qZA(),e._UZ(3,"input",106),e.TgZ(4,"mat-icon",102),e._uU(5," money"),e.qZA()())}function fe(i,s){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,ge,6,0,"mat-form-field",104),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint)}}function he(i,s){if(1&i&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function _e(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",101),e.TgZ(4,"mat-icon",102),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminal.terminalName)}}function Te(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Current balance"),e.qZA(),e._UZ(3,"input",103),e.TgZ(4,"mat-icon",102),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminal.balance)}}function Ze(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Stockist owner"),e.qZA(),e._UZ(3,"input",101),e.TgZ(4,"mat-icon",102),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminal.stockist.userName)}}function xe(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",100)(1,"mat-label"),e._uU(2,"Stockist balance"),e.qZA(),e._UZ(3,"input",103),e.TgZ(4,"mat-icon",102),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminal.stockist.balance)}}function Ae(i,s){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,Ze,6,1,"mat-form-field",47),e.YNc(2,xe,6,1,"mat-form-field",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminal),e.xp6(1),e.Q6J("ngIf",t.selectedTerminal)}}function ve(i,s){1&i&&(e.TgZ(0,"mat-form-field",105)(1,"mat-label"),e._uU(2,"Recharge amount"),e.qZA(),e._UZ(3,"input",106),e.TgZ(4,"mat-icon",102),e._uU(5," money"),e.qZA()())}function Ce(i,s){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,ve,6,0,"mat-form-field",104),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminal)}}function Me(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()),2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.AsE("",t.date," (",t.time,")"),e.xp6(2),e.Oqu(t.rechargedTo.userName),e.xp6(2),e.Oqu(t.rechargedby.userName),e.xp6(2),e.Oqu(t.oldAmount),e.xp6(2),e.Oqu(t.rechargedAmount),e.xp6(2),e.Oqu(t.newAmount),e.xp6(2),e.Oqu(t.dateAndTime)}}function be(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.sendMailTransaction())}),e._uU(1,"Send Mail"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",!t.emailFormControl.valid||null==t.emailFormControl.value)}}function ke(i,s){1&i&&e._UZ(0,"mat-spinner",108),2&i&&e.Q6J("diameter",30)}function Se(i,s){1&i&&(e.TgZ(0,"div"),e._uU(1,"NO DATA"),e.qZA())}function Ue(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()()),2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.AsE("",t.date," (",t.time,")"),e.xp6(2),e.Oqu(t.game_name),e.xp6(2),e.Oqu(t.barcode_number),e.xp6(2),e.Oqu(t.old_amount),e.xp6(2),e.Oqu(t.recharged_amount),e.xp6(2),e.Oqu(t.played_amount),e.xp6(2),e.Oqu(t.prize_amount),e.xp6(2),e.Oqu(t.new_amount)}}const w=function(i,s){return{itemsPerPage:i,currentPage:s}};function Ie(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"table",56),e.NdJ("matSortChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.sortData(a))}),e.TgZ(2,"thead")(3,"tr")(4,"th",57),e._uU(5,"Terminal List"),e.qZA(),e.TgZ(6,"th",28)(7,"label"),e._uU(8,"Search"),e.qZA(),e.TgZ(9,"input",29),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.searchItem=a)}),e.qZA()(),e.TgZ(10,"th",28)(11,"label"),e._uU(12,"No. of items"),e.qZA(),e.TgZ(13,"input",58),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.itemsOnEveryPage=a)}),e.qZA()()(),e.TgZ(14,"tr")(15,"th"),e._uU(16,"SL No."),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Description"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Date and Time"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Game Name"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Barcode"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Opening balance"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Recharged"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Played"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Prize"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Closing Balance"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,Ue,21,11,"tr",59),e.ALo(37,"paginate"),e.ALo(38,"filter"),e.qZA()(),e.TgZ(39,"pagination-controls",41),e.NdJ("pageChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.p3=a)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.searchItem),e.xp6(4),e.Q6J("ngModel",t.itemsOnEveryPage),e.xp6(23),e.Q6J("ngForOf",e.xi3(37,3,e.xi3(38,6,t.transactionDetails,t.searchItem),e.WLB(9,w,t.itemsOnEveryPage,t.p3)))}}function ye(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",79),e._uU(2),e.qZA(),e.TgZ(3,"td",79),e._uU(4),e.qZA(),e.TgZ(5,"td",79)(6,"input",91),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.gamePermissionUpdate(1,r.terminalId))}),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.terminalName),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game1)}}function O(i,s,t){return(i<s?-1:1)*(t?1:-1)}const Ne=[{path:"",canActivate:[S.m],component:(()=>{class i{constructor(t,n,a,r,l,h){this.masterTerminalService=t,this.masterStockistService=n,this.transactionReportService=a,this.authService=r,this.masterSuperStockistService=l,this.commonService=h,this.isProduction=v.N.production,this.showDevArea=!1,this.isTerminalUpdatAble=!1,this.terminals=[],this.sortedTerminalList=[],this.stockists=[],this.payoutSlabs=[],this.superStockists=[],this.selectedTerminal=null,this.selectedTerminalTransferPoint=null,this.highLightedRowIndex=-1,this.pinCheckValidator=!1,this.rechargedToID=null,this.searchItem=null,this.transactionId=null,this.terminalFilter=null,this.transactionData=[],this.selectedTab=0,this.p=1,this.p1=1,this.p2=1,this.p3=1,this.itemsOnEveryPage=20,this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.game6=0,this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.game6=0,this.mailStatus=0,this.emailFormControl=new o.p4(null,[o.kI.email]),this.terminalMasterForm=new o.nJ({id:new o.p4(null),terminalName:new o.p4(null,[o.kI.required,o.kI.minLength(2)]),stockistId:new o.p4(null,[o.kI.required]),payoutSlabId:new o.p4(null),superStockistId:new o.p4(null,[o.kI.required]),pin:new o.p4(null,[o.kI.required]),commission:new o.p4(null,[o.kI.required])}),this.terminalLimitForm=new o.nJ({beneficiaryUid:new o.p4(null,[o.kI.required]),amount:new o.p4(null,[o.kI.required,o.kI.max(0)])}),this.user=this.authService.userBehaviorSubject.value,this.authService.userBehaviorSubject.subscribe(g=>{this.user=g})}ngOnInit(){this.user=this.authService.userBehaviorSubject.value,this.terminals=this.masterTerminalService.getTerminals(),this.sortedTerminalList=this.masterTerminalService.getTerminals(),this.masterTerminalService.getTerminalListener().subscribe(t=>{this.terminals=t,this.sortedTerminalList=t,this.shortOnline()}),this.superStockists=this.masterSuperStockistService.getSuperStockists(),this.masterSuperStockistService.getSuperStockistListener().subscribe(t=>{this.superStockists=t}),this.payoutSlabs=this.masterTerminalService.getPayoutSlabs(),this.masterTerminalService.getPayoutSlabListener().subscribe(t=>{this.payoutSlabs=t}),this.stockists=this.masterStockistService.getStockists(),this.masterStockistService.getStockistListener().subscribe(t=>{this.stockists=t}),this.shortOnline()}updateBlock(t){this.masterTerminalService.updateBlock(t).subscribe()}updateAutoClaim(t){this.masterTerminalService.updateAutoClaim(t).subscribe()}sendMailTransaction(){if(null==this.transactionId)return void u().fire({position:"top-end",icon:"info",title:"Select terminal",showConfirmButton:!1,timer:2e3});const t={email:this.emailFormControl.value,sentBy:this.user.userId,terminalId:this.transactionId};this.mailStatus=1,this.masterTerminalService.sendMailTransaction(t).subscribe(n=>{1===n.success&&(this.mailStatus=0,u().fire({position:"top-end",icon:"success",title:"Mail Sent",showConfirmButton:!1,timer:1e3}),this.emailFormControl.reset())})}getTransaction(){this.transactionReportService.getTransactionByUser({rechargedToID:this.rechargedToID,rechargedByID:this.user.userId}).subscribe(n=>{this.transactionData=n.data})}onTerminalSelectTransferPoint(t){t.value?(this.terminalLimitForm.patchValue({beneficiaryUid:t.value}),this.selectedTerminalTransferPoint=this.terminals.find(n=>n.terminalId===t.value)):(this.terminalLimitForm.patchValue({beneficiaryUid:t}),this.selectedTerminalTransferPoint=this.terminals.find(n=>n.terminalId===t))}onTerminalSelect(t){t.value?(this.terminalLimitForm.patchValue({beneficiaryUid:t.value}),this.selectedTerminal=this.terminals.find(n=>n.terminalId===t.value)):(this.terminalLimitForm.patchValue({beneficiaryUid:t}),this.selectedTerminal=this.terminals.find(n=>n.terminalId===t),console.log(this.selectedTerminal))}checkPinValidation(){this.commonService.checkPinValidation(this.terminalMasterForm.value.terminalName).subscribe(t=>{0===t.success?(u().fire({position:"top-end",icon:"error",title:"User already exists",showConfirmButton:!1,timer:2e3}),this.pinCheckValidator=!0,this.terminalMasterForm.patchValue({terminalName:null})):this.pinCheckValidator=!1})}approveLogin(t){this.masterTerminalService.loginApprove(t.terminalId).subscribe()}gamePermissionUpdate(t,n){this.masterTerminalService.gamePermission(t,n).subscribe()}enableGameCreateTerminal(t){1===t?this.game1=1===this.game1?0:1:2===t?this.game2=1===this.game2?0:1:3===t?this.game3=1===this.game3?0:1:4===t?this.game4=1===this.game4?0:1:5===t?this.game5=1===this.game5?0:1:6===t&&(this.game6=1===this.game6?0:1)}editTerminal(t){this.terminalMasterForm.patchValue({id:t.terminalId,terminalName:t.terminalName,stockistId:t.stockistId,superStockistId:t.superStockistId,payoutSlabId:t.payoutSlabId,pin:t.password,commission:t.commission}),this.isTerminalUpdatAble=!0}refreshTerminalList(){this.masterTerminalService.getAllUpdatedTerminals()}updateTerminal(){const t=this.stockists.findIndex(n=>n.userId===this.terminalMasterForm.value.stockistId);parseFloat(String(this.stockists[t].commission))<parseFloat(this.terminalMasterForm.value.commission)?u().fire({position:"top-end",icon:"info",title:"Terminal commission is more than stockist commission",showConfirmButton:!1,timer:2e3}):u().fire({title:"Confirmation",text:"Do you sure to update terminal?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(n=>{n.isConfirmed&&this.masterTerminalService.updateTerminal({terminalId:this.terminalMasterForm.value.id,terminalName:this.terminalMasterForm.value.terminalName,stockistId:this.terminalMasterForm.value.stockistId,superStockistId:this.terminalMasterForm.value.superStockistId,payoutSlabId:this.terminalMasterForm.value.payoutSlabId,pin:this.terminalMasterForm.value.pin,commission:this.terminalMasterForm.value.commission,userId:this.user.userId}).subscribe(r=>{1===r.success?(this.sortedTerminalList[this.highLightedRowIndex]=r.data,this.terminalMasterForm.reset(),this.isTerminalUpdatAble=!1,setTimeout(()=>{this.highLightedRowIndex=-1},5e3),u().fire({position:"top-end",icon:"success",title:"Terminal Updated",showConfirmButton:!1,timer:1e3})):u().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},r=>{console.log("data saving error",r)})})}selectSuperStockist(t){this.terminalMasterForm.patchValue({superStockistId:t.superStockistId}),this.terminalMasterForm.value.superStockistId=t.superStockistId}createNewTerminal(){const t=this.stockists.findIndex(n=>n.userId===this.terminalMasterForm.value.stockistId);parseFloat(String(this.stockists[t].commission))<parseFloat(this.terminalMasterForm.value.commission)?u().fire({position:"top-end",icon:"info",title:"Terminal commission is more than stockist commission",showConfirmButton:!1,timer:2e3}):u().fire({title:"Confirmation",text:"Do you sure to create terminal?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(n=>{n.isConfirmed&&this.masterTerminalService.saveNewTerminal({terminalName:this.terminalMasterForm.value.terminalName,stockistId:this.terminalMasterForm.value.stockistId,pin:this.terminalMasterForm.value.pin,superStockistId:this.terminalMasterForm.value.superStockistId,payoutSlabId:this.terminalMasterForm.value.payoutSlabId,createdBy:this.user.userId,commission:this.terminalMasterForm.value.commission,game1:this.game1,game2:this.game2,game3:this.game3,game4:this.game4,game5:this.game5}).subscribe(r=>{1===r.success?(this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.highLightedRowIndex=0,this.terminalMasterForm.reset(),setTimeout(()=>{this.highLightedRowIndex=-1},5e3),u().fire({position:"top-end",icon:"success",title:"Terminal created",showConfirmButton:!1,timer:1e3})):u().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},r=>{console.log("data saving error",r)})})}forceLogout(t){this.masterTerminalService.forceLogoutTerminal(t)}getBackgroundColor(t,n){return t==this.highLightedRowIndex?{"background-color":"rgb(103 245 166 / 60%)",animation:"blinking 1s infinite"}:"Offline"===n.status?{"background-color":"#f08080"}:"Online"===n.status?{"background-color":"#90ee90"}:void 0}clearMasterTerminalForm(){this.terminalMasterForm.reset(),this.highLightedRowIndex=-1,this.isTerminalUpdatAble=!1}shortOnline(){const t=this.terminals.slice();this.sortedTerminalList=t.sort((n,a)=>O(n.status,a.status,!1))}sortData(t){const n=this.terminals.slice();this.sortedTerminalList=t.active&&""!==t.direction?n.sort((a,r)=>{const l="asc"===t.direction;switch(t.active){case"terminalName":return O(a.terminalName,r.terminalName,l);case"stockistName":return O(a.stockist.userName,r.stockist.userName,l);case"balance":return O(a.balance,r.balance,l);default:return 0}}):n}rechargeToTerminal(){parseInt(this.terminalLimitForm.value.amount)<0?u().fire({position:"top-end",icon:"info",title:"Amount cannot be negative",showConfirmButton:!1,timer:3e3}):parseInt(this.terminalLimitForm.value.amount)>parseInt(String(this.selectedTerminalTransferPoint.stockist.balance))?u().fire({position:"top-end",icon:"info",title:"Low Balance",showConfirmButton:!1,timer:3e3}):u().fire({title:"Confirmation",text:"Do you sure to recharge?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, recharge It!"}).then(t=>{t.isConfirmed&&this.masterTerminalService.saveTerminalBalance({beneficiaryUid:this.terminalLimitForm.value.beneficiaryUid,stockistId:this.selectedTerminalTransferPoint.stockist.userId,amount:this.terminalLimitForm.value.amount,rechargeDoneByUid:this.user.userId}).subscribe(a=>{if(1===a.success){const r=a.data,l=this.terminals.findIndex(g=>g.terminalId===r.terminalId);this.terminals[l].balance=r.balance,this.terminals[l].stockist.balance=r.stockist.balance,this.sortedTerminalList[l].balance=r.balance,this.sortedTerminalList[l].stockist.balance=r.stockist.balance,this.authService.setUserBalanceBy(this.user.balance-this.terminalLimitForm.value.amount),this.highLightedRowIndex=l,this.terminalLimitForm.controls.amount.setValidators([o.kI.max(r.stockist.balance)]),this.terminalLimitForm.patchValue({amount:""}),setTimeout(()=>{this.highLightedRowIndex=-1},1e4),u().fire({position:"top-end",icon:"success",title:"Recharge done",showConfirmButton:!1,timer:1e3})}else u().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{console.log("data saving error",a)})})}adjustPointToTerminal(){parseInt(this.terminalLimitForm.value.amount)<0?u().fire({position:"top-end",icon:"info",title:"Amount cannot be negative",showConfirmButton:!1,timer:3e3}):parseInt(this.terminalLimitForm.value.amount)>parseInt(String(this.selectedTerminal.balance))?u().fire({position:"top-end",icon:"info",title:"Low Balance",showConfirmButton:!1,timer:3e3}):u().fire({title:"Confirmation",text:"Do you sure to recharge?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, recharge It!"}).then(t=>{t.isConfirmed&&this.masterTerminalService.saveTerminalBalance({beneficiaryUid:this.terminalLimitForm.value.beneficiaryUid,stockistId:this.selectedTerminal.stockist.userId,amount:-this.terminalLimitForm.value.amount,rechargeDoneByUid:this.user.userId}).subscribe(a=>{if(1===a.success){const r=a.data,l=this.terminals.findIndex(g=>g.terminalId===r.terminalId);this.terminals[l].balance=r.balance,this.terminals[l].stockist.balance=r.stockist.balance,this.sortedTerminalList[l].balance=r.balance,this.sortedTerminalList[l].stockist.balance=r.stockist.balance,this.authService.setUserBalanceBy(this.user.balance-this.terminalLimitForm.value.amount),this.highLightedRowIndex=l,this.terminalLimitForm.controls.amount.setValidators([o.kI.max(r.stockist.balance)]),this.terminalLimitForm.patchValue({amount:""}),setTimeout(()=>{this.highLightedRowIndex=-1},1e4),u().fire({position:"top-end",icon:"success",title:"Recharge done",showConfirmButton:!1,timer:1e3})}else u().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{console.log("data saving error",a)})})}getTransactionDetails(){this.masterTerminalService.getTransactionDetails(this.transactionId).subscribe(t=>{this.transactionDetails=t.data})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.S),e.Y36(y.E),e.Y36(D.z),e.Y36(P.e),e.Y36(Q.Q),e.Y36(R.v))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-master-terminal"]],decls:264,vars:113,consts:[[1,"",3,"selectedIndex"],["label","Create terminal"],[1,"flex-row","mt-2"],[1,"col-7"],["mat-card-avatar","",1,"example-header-image"],[3,"ngStyle"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,""],["fxFlex","100"],[3,"formGroup"],["fxFlex","50"],["formControlName","stockistId",3,"ngStyle"],[3,"value","blur",4,"ngFor","ngForOf"],["formControlName","superStockistId","disabled","",3,"ngStyle"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","terminalName","placeholder","Enter name",3,"ngStyle","change"],["class","","fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",4,"ngIf"],["type","text","matInput","","formControlName","pin","placeholder","Enter name",3,"ngStyle"],[1,"col-10","m-0","p-0"],["type","text","matInput","","formControlName","commission","placeholder","Commission",3,"ngStyle"],[1,"col-12","m-0","p-0"],["fxFlex","100","class","d-flex m-3",4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["mat-raised-button","","color","primary","mat-stroked-button","",1,"pull-right",3,"ngStyle","click"],["mat-raised-button","","color","primary","mat-stroked-button","",1,"pull-right",3,"ngStyle","disabled","click"],["mat-raised-button","","color","warn","mat-stroked-button","",1,"pull-right",3,"ngStyle","click"],[1,"mt-2",2,"background-color","#6c757d5e"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important","font-size","16px",3,"matSortChange"],["scope","colgroup","colspan","6",1,"text-center"],["scope","colgroup","colspan","2",1,"text-center"],["placeholder","Search",1,"col-12",3,"ngModel","ngModelChange"],["placeholder","Items",1,"col-12",3,"ngModel","ngModelChange","change"],["mat-button","","color","primary",3,"click"],[1,"material-icons"],[2,"text-align","center"],["mat-sort-header","terminalName"],["mat-sort-header","pin"],["mat-sort-header","balance"],["mat-sort-header","stockistName"],["mat-sort-header",""],["mat-sort-header","edit"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"pageChange"],["label","Transfer Point"],[1,"d-flex","flex-row","mt-2"],[1,"col-10"],["fxFlex","25"],["formControlName","beneficiaryUid",3,"selectionChange"],["appearance","legacy",4,"ngIf"],["class","container","fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",4,"ngIf"],["mat-raised-button","","color","warn","mat-stroked-button","",1,"pull-right",3,"click"],[1,"col-2"],["label","Adjust Point"],["label","Recharge Details"],["fxFlex","60"],["bindLabel","pin","bindValue","terminalId",3,"items","ngModel","ngModelChange"],["mat-raised-button","","color","warn",1,"ml-4",3,"click"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important",3,"matSortChange"],["scope","colgroup","colspan","4",1,"text-center"],["placeholder","Items",1,"col-12",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["label","Full Transaction"],["fxFlex","45"],["fxFlex","50",1,"ml-5"],[1,"d-flex"],[1,"d-flex","col-7"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","placeholder","Ex. pat@example.com",3,"formControl"],[2,"color","red"],[1,"d-flex","mt-2"],["style","max-height: 40px","mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],[3,"diameter",4,"ngIf"],[4,"ngIf"],["class","mt-2","style","background-color: #6c757d5e",4,"ngIf"],["label","Game Allocation"],["appearance","fill",1,"example-full-width","col-5"],["matInput","","placeholder","Terminal Name",3,"ngModel","ngModelChange"],[1,"table","table-bordered","col-8"],["scope","colgroup","colspan","3",1,"text-center"],["scope","col"],[3,"value","blur"],[3,"value"],["fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",1,""],["fxFlex","100",1,"d-flex","m-3"],["fxFlex","15",1,"m-2"],["type","checkbox",3,"ngStyle","checked","click"],[1,"d-flex","pr-5"],["mat-button","","color","primary","style","border: black solid 1px",3,"click",4,"ngIf"],[2,"cursor","pointer"],["src","assets/images/transfer_point.png",3,"click"],["src","assets/images/adjust_point.png",3,"click"],["type","checkbox",3,"checked","click"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"click",4,"ngIf"],[1,"bi","bi-pencil-square",3,"click"],["loading","lazy","decoding","async","height","20","src","assets/images/pc_print.png"],[1,"bi","bi-pc-display-horizontal"],["loading","lazy","decoding","async","height","20","src","assets/images/mobile_print.png"],[1,"bi","bi-phone"],["mat-button","","color","primary",2,"border","black solid 1px",3,"click"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"click"],["appearance","legacy"],["type","text","matInput","","readonly","","placeholder","Stockist",3,"value"],["matSuffix",""],["type","text","readonly","","matInput","","placeholder","Current balance",3,"value"],["class","d-flex","fxFlex","100",4,"ngIf"],["fxFlex","100",1,"d-flex"],["type","text","matInput","","formControlName","amount","placeholder","Enter amount"],["mat-raised-button","","color","warn",2,"max-height","40px",3,"disabled","click"],[3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"div",2)(3,"div",3)(4,"mat-card")(5,"mat-card-header"),e._UZ(6,"div",4),e.TgZ(7,"mat-card-title",5),e._uU(8,"New Terminal Form"),e.qZA()(),e.TgZ(9,"mat-card-content")(10,"div",6)(11,"div",7)(12,"form",8)(13,"div",6)(14,"mat-form-field",9)(15,"mat-label",5),e._uU(16,"Stockist"),e.qZA(),e.TgZ(17,"mat-select",10),e.YNc(18,$,2,3,"mat-option",11),e.qZA()(),e.TgZ(19,"mat-form-field",7)(20,"mat-label",5),e._uU(21,"Super Stockist"),e.qZA(),e.TgZ(22,"mat-select",12),e.YNc(23,X,2,2,"mat-option",13),e.qZA()()(),e.TgZ(24,"div",6)(25,"mat-form-field",7)(26,"mat-label",5),e._uU(27,"Terminal Name"),e.qZA(),e.TgZ(28,"input",14),e.NdJ("change",function(){return n.checkPinValidation()}),e.qZA(),e.YNc(29,j,2,1,"div",15),e.qZA(),e.TgZ(30,"mat-form-field",7)(31,"mat-label",5),e._uU(32,"PIN"),e.qZA(),e._UZ(33,"input",16),e.qZA()(),e.TgZ(34,"div",6)(35,"div",17)(36,"mat-form-field",9)(37,"mat-label",5),e._uU(38,"Commission"),e.qZA(),e._UZ(39,"input",18),e.qZA()()(),e.TgZ(40,"div",6)(41,"div",19),e.YNc(42,z,5,7,"div",20),e.qZA()()()()(),e.TgZ(43,"div",21)(44,"button",22),e.NdJ("click",function(){return n.createNewTerminal()}),e._uU(45,"Create"),e.qZA(),e.TgZ(46,"button",23),e.NdJ("click",function(){return n.updateTerminal()}),e._uU(47,"Update"),e.qZA(),e.TgZ(48,"button",24),e.NdJ("click",function(){return n.clearMasterTerminalForm()}),e._uU(49,"clear"),e.qZA()()()()(),e.TgZ(50,"div",25)(51,"table",26),e.NdJ("matSortChange",function(r){return n.sortData(r)}),e.TgZ(52,"thead")(53,"tr")(54,"th",27),e._uU(55,"Terminal List"),e.qZA(),e.TgZ(56,"th",28)(57,"label"),e._uU(58,"Search"),e.qZA(),e.TgZ(59,"input",29),e.NdJ("ngModelChange",function(r){return n.searchItem=r}),e.qZA()(),e.TgZ(60,"th",28)(61,"label"),e._uU(62,"No. of items"),e.qZA(),e.TgZ(63,"input",30),e.NdJ("ngModelChange",function(r){return n.itemsOnEveryPage=r})("change",function(){return n.p1=1}),e.qZA()(),e.TgZ(64,"th",28)(65,"button",31),e.NdJ("click",function(){return n.refreshTerminalList()}),e._uU(66," Refresh "),e.TgZ(67,"span",32),e._uU(68,"refresh"),e.qZA()()()(),e.TgZ(69,"tr",33)(70,"th"),e._uU(71,"Id"),e.qZA(),e.TgZ(72,"th",34),e._uU(73,"T Name"),e.qZA(),e.TgZ(74,"th",35),e._uU(75,"Pass"),e.qZA(),e.TgZ(76,"th",36),e._uU(77,"Com"),e.qZA(),e.TgZ(78,"th",36),e._uU(79,"Balance"),e.qZA(),e.TgZ(80,"th",37),e._uU(81,"Super S"),e.qZA(),e.TgZ(82,"th",37),e._uU(83,"Stockist"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"Approve"),e.qZA(),e.TgZ(86,"th"),e._uU(87,"Action"),e.qZA(),e.TgZ(88,"th",38),e._uU(89,"Blocked"),e.qZA(),e.TgZ(90,"th",38),e._uU(91,"Force Logout"),e.qZA(),e.TgZ(92,"th",37),e._uU(93,"Auto Claim"),e.qZA(),e.TgZ(94,"th",39),e._uU(95,"Edit"),e.qZA()()(),e.TgZ(96,"tbody"),e.YNc(97,se,35,17,"tr",40),e.ALo(98,"paginate"),e.ALo(99,"filter"),e.ALo(100,"orderBy"),e.qZA()(),e.TgZ(101,"pagination-controls",41),e.NdJ("pageChange",function(r){return n.p1=r}),e.qZA()()()(),e.TgZ(102,"mat-tab",42)(103,"div",43)(104,"div",44)(105,"mat-card")(106,"mat-card-header"),e._UZ(107,"div",4),e.TgZ(108,"mat-card-title",5),e._uU(109,"Recharge Terminal"),e.qZA()(),e.TgZ(110,"mat-card-content")(111,"div",21)(112,"div",7)(113,"form",8)(114,"div",21)(115,"mat-form-field",45)(116,"mat-label"),e._uU(117,"Terminal"),e.qZA(),e.TgZ(118,"mat-select",46),e.NdJ("selectionChange",function(r){return n.onTerminalSelectTransferPoint(r)}),e.YNc(119,le,2,2,"mat-option",13),e.qZA()(),e.YNc(120,me,6,1,"mat-form-field",47),e.YNc(121,ce,6,1,"mat-form-field",47),e.qZA(),e.YNc(122,pe,3,2,"div",48),e.YNc(123,fe,2,1,"div",48),e.TgZ(124,"div",21)(125,"button",49),e.NdJ("click",function(){return n.rechargeToTerminal()}),e._uU(126,"Save"),e.qZA()()()()()()()(),e._UZ(127,"div",50),e.qZA()(),e.TgZ(128,"mat-tab",51)(129,"div",43)(130,"div",44)(131,"mat-card")(132,"mat-card-header"),e._UZ(133,"div",4),e.TgZ(134,"mat-card-title"),e._uU(135,"Recharge Terminal"),e.qZA()(),e.TgZ(136,"mat-card-content")(137,"div",21)(138,"div",7)(139,"form",8)(140,"div",21)(141,"mat-form-field",45)(142,"mat-label"),e._uU(143,"Terminal"),e.qZA(),e.TgZ(144,"mat-select",46),e.NdJ("selectionChange",function(r){return n.onTerminalSelect(r)}),e.YNc(145,he,2,2,"mat-option",13),e.qZA()(),e.YNc(146,_e,6,1,"mat-form-field",47),e.YNc(147,Te,6,1,"mat-form-field",47),e.qZA(),e.YNc(148,Ae,3,2,"div",48),e.YNc(149,Ce,2,1,"div",48),e.TgZ(150,"div",21)(151,"button",49),e.NdJ("click",function(){return n.adjustPointToTerminal()}),e._uU(152,"Save"),e.qZA()()()()()()()(),e._UZ(153,"div",50),e.qZA()(),e.TgZ(154,"mat-tab",52)(155,"div",43)(156,"div",44)(157,"mat-card")(158,"mat-card-header"),e._UZ(159,"div",4),e.TgZ(160,"mat-card-title"),e._uU(161,"Terminal Transaction Report"),e.qZA()(),e.TgZ(162,"mat-card-content")(163,"div",21)(164,"div",7)(165,"div",53)(166,"ng-select",54),e.NdJ("ngModelChange",function(r){return n.rechargedToID=r}),e.qZA()()()(),e.TgZ(167,"button",55),e.NdJ("click",function(){return n.getTransaction()}),e._uU(168,"Search"),e.qZA()()()(),e._UZ(169,"div",50),e.qZA(),e.TgZ(170,"div",25)(171,"table",56),e.NdJ("matSortChange",function(r){return n.sortData(r)}),e.TgZ(172,"thead")(173,"tr")(174,"th",57),e._uU(175,"Terminal List"),e.qZA(),e.TgZ(176,"th",28)(177,"label"),e._uU(178,"Search"),e.qZA(),e.TgZ(179,"input",29),e.NdJ("ngModelChange",function(r){return n.searchItem=r}),e.qZA()(),e.TgZ(180,"th",28)(181,"label"),e._uU(182,"No. of items"),e.qZA(),e.TgZ(183,"input",58),e.NdJ("ngModelChange",function(r){return n.itemsOnEveryPage=r}),e.qZA()()(),e.TgZ(184,"tr")(185,"th"),e._uU(186,"Id"),e.qZA(),e.TgZ(187,"th",37),e._uU(188,"Date and Time"),e.qZA(),e.TgZ(189,"th",34),e._uU(190,"Recharge To"),e.qZA(),e.TgZ(191,"th",35),e._uU(192,"Recharge By"),e.qZA(),e.TgZ(193,"th",36),e._uU(194,"Old Amount"),e.qZA(),e.TgZ(195,"th",36),e._uU(196,"Recharged Amount"),e.qZA(),e.TgZ(197,"th",37),e._uU(198,"New Amount"),e.qZA()()(),e.TgZ(199,"tbody"),e.YNc(200,Me,17,9,"tr",59),e.ALo(201,"paginate"),e.ALo(202,"filter"),e.qZA()(),e.TgZ(203,"pagination-controls",41),e.NdJ("pageChange",function(r){return n.p2=r}),e.qZA()()(),e.TgZ(204,"mat-tab",60)(205,"div",43)(206,"div",44)(207,"mat-card")(208,"mat-card-header"),e._UZ(209,"div",4),e.TgZ(210,"mat-card-title"),e._uU(211,"Terminal Transaction Report"),e.qZA()(),e.TgZ(212,"mat-card-content")(213,"div",21)(214,"div",7)(215,"div",61)(216,"ng-select",54),e.NdJ("ngModelChange",function(r){return n.transactionId=r}),e.qZA(),e.TgZ(217,"button",55),e.NdJ("click",function(){return n.getTransactionDetails()}),e._uU(218,"Get Transaction"),e.qZA()(),e.TgZ(219,"div",62)(220,"div",63)(221,"div",64)(222,"form",65)(223,"mat-form-field",66)(224,"mat-label"),e._uU(225,"Email"),e.qZA(),e._UZ(226,"input",67),e.qZA(),e.TgZ(227,"label",68),e._uU(228,"NOTE: Only 30 days transaction will be mailed"),e.qZA()()(),e.TgZ(229,"div",69),e.YNc(230,be,2,1,"button",70),e.YNc(231,ke,1,1,"mat-spinner",71),e.qZA()()()()()()()(),e._UZ(232,"div",50),e.qZA(),e.YNc(233,Se,2,0,"div",72),e.YNc(234,Ie,40,12,"div",73),e.qZA(),e.TgZ(235,"mat-tab",74)(236,"mat-form-field",75)(237,"mat-label"),e._uU(238,"Terminal Name"),e.qZA(),e.TgZ(239,"input",76),e.NdJ("ngModelChange",function(r){return n.terminalFilter=r}),e.qZA()(),e.TgZ(240,"table",77)(241,"thead")(242,"tr")(243,"th",28),e._uU(244,"Game Allocation"),e.qZA(),e.TgZ(245,"th",78)(246,"label"),e._uU(247,"Search"),e.qZA(),e.TgZ(248,"input",29),e.NdJ("ngModelChange",function(r){return n.searchItem=r}),e.qZA(),e.TgZ(249,"label"),e._uU(250,"No. of items"),e.qZA(),e.TgZ(251,"input",58),e.NdJ("ngModelChange",function(r){return n.itemsOnEveryPage=r}),e.qZA()()(),e.TgZ(252,"tr")(253,"th",79),e._uU(254,"Sl. no."),e.qZA(),e.TgZ(255,"th",79),e._uU(256,"Terminal Name"),e.qZA(),e.TgZ(257,"th",79),e._uU(258,"Single"),e.qZA()()(),e.TgZ(259,"tbody"),e.YNc(260,ye,7,3,"tr",59),e.ALo(261,"paginate"),e.ALo(262,"filter"),e.qZA()(),e.TgZ(263,"pagination-controls",41),e.NdJ("pageChange",function(r){return n.p=r}),e.qZA()()()),2&t&&(e.Q6J("selectedIndex",n.selectedTab),e.xp6(7),e.Q6J("ngStyle",e.VKq(74,f,n.screenWidth>=1366?"20px":"25px")),e.xp6(5),e.Q6J("formGroup",n.terminalMasterForm),e.xp6(3),e.Q6J("ngStyle",e.VKq(76,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(2),e.Q6J("ngStyle",e.VKq(78,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(1),e.Q6J("ngForOf",n.stockists),e.xp6(2),e.Q6J("ngStyle",e.VKq(80,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(2),e.Q6J("ngStyle",e.VKq(82,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(1),e.Q6J("ngForOf",n.superStockists),e.xp6(3),e.Q6J("ngStyle",e.VKq(84,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(2),e.Q6J("ngStyle",e.VKq(86,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(1),e.Q6J("ngIf",!n.terminalMasterForm.get("terminalName").valid&&n.terminalMasterForm.get("terminalName").touched),e.xp6(2),e.Q6J("ngStyle",e.VKq(88,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(2),e.Q6J("ngStyle",e.VKq(90,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(4),e.Q6J("ngStyle",e.VKq(92,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(2),e.Q6J("ngStyle",e.VKq(94,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(3),e.Q6J("ngIf",!n.isTerminalUpdatAble),e.xp6(2),e.Q6J("ngStyle",e.VKq(96,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(2),e.Q6J("ngStyle",e.VKq(98,f,n.screenWidth>=1366?"15px":"25px"))("disabled",!n.isTerminalUpdatAble),e.xp6(2),e.Q6J("ngStyle",e.VKq(100,f,n.screenWidth>=1366?"15px":"25px")),e.xp6(11),e.Q6J("ngModel",n.searchItem),e.xp6(4),e.Q6J("ngModel",n.itemsOnEveryPage),e.xp6(34),e.Q6J("ngForOf",e.xi3(98,53,e.xi3(99,56,e.xi3(100,59,n.sortedTerminalList,"offline"),n.searchItem),e.WLB(102,w,n.itemsOnEveryPage,n.p1))),e.xp6(11),e.Q6J("ngStyle",e.VKq(105,f,n.screenWidth>=1366?"20px":"25px")),e.xp6(5),e.Q6J("formGroup",n.terminalLimitForm),e.xp6(6),e.Q6J("ngForOf",n.sortedTerminalList),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(16),e.Q6J("formGroup",n.terminalLimitForm),e.xp6(6),e.Q6J("ngForOf",n.sortedTerminalList),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(17),e.Q6J("items",n.sortedTerminalList)("ngModel",n.rechargedToID),e.xp6(13),e.Q6J("ngModel",n.searchItem),e.xp6(4),e.Q6J("ngModel",n.itemsOnEveryPage),e.xp6(17),e.Q6J("ngForOf",e.xi3(201,62,e.xi3(202,65,n.transactionData,n.searchItem),e.WLB(107,w,n.itemsOnEveryPage,n.p2))),e.xp6(16),e.Q6J("items",n.sortedTerminalList)("ngModel",n.transactionId),e.xp6(10),e.Q6J("formControl",n.emailFormControl),e.xp6(4),e.Q6J("ngIf",0===n.mailStatus),e.xp6(1),e.Q6J("ngIf",0!==n.mailStatus),e.xp6(2),e.Q6J("ngIf",!n.transactionDetails),e.xp6(1),e.Q6J("ngIf",n.transactionDetails),e.xp6(5),e.Q6J("ngModel",n.terminalFilter),e.xp6(9),e.Q6J("ngModel",n.searchItem),e.xp6(3),e.Q6J("ngModel",n.itemsOnEveryPage),e.xp6(9),e.Q6J("ngForOf",e.xi3(261,68,e.xi3(262,71,n.terminals,n.terminalFilter),e.WLB(110,w,n.itemsOnEveryPage,n.p))))},dependencies:[A.sg,A.O5,A.PC,q.SP,q.uX,Z.lW,U.TO,U.KE,U.hX,U.R9,Y.Nt,p.xw,p.SQ,p.Wh,p.yH,d.Zl,c.a8,c.dk,c.dn,c.n5,c.kc,o._Y,o.Fj,o.JJ,o.JL,o.On,o.F,o.oH,o.sg,o.u,_.YE,_.nU,x.gD,T.ey,N.Hw,L.w9,I.LS,J.Ou,W.Z,I._s,K],styles:[".red-color[_ngcontent-%COMP%]{color:red;font-size:20px}.green-color[_ngcontent-%COMP%]{color:#1aff00;font-size:20px}"]}),i})(),data:{title:"About",description:"Description Meta Tag Content",ogUrl:"your og url"}}];let Le=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(Ne),C.Bz]}),i})();var Je=m(5480),Fe=m(1620),Ee=m(455);let we=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.ez,Le,q.Nh,Je.q,Fe.o9,c.QW,o.u5,o.UX,Ee.rP,_.JX,x.LD,N.Ps,L.A0,W.h,I.JX,J.Cq,G]}),i})()},1572:(V,k,m)=>{m.d(k,{Cq:()=>U,Ou:()=>Z});var A=m(1281),C=m(3353),S=m(1384),v=m(6895),o=m(4650),M=m(3238),u=m(727);function e(p,d){if(1&p&&(o.O4$(),o._UZ(0,"circle",4)),2&p){const c=o.oxw(),_=o.MAs(1);o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+c._spinnerAnimationLabel)("stroke-dashoffset",c._getStrokeDashOffset(),"px")("stroke-dasharray",c._getStrokeCircumference(),"px")("stroke-width",c._getCircleStrokeWidth(),"%")("transform-origin",c._getCircleTransformOrigin(_)),o.uIk("r",c._getCircleRadius())}}function B(p,d){if(1&p&&(o.O4$(),o._UZ(0,"circle",4)),2&p){const c=o.oxw(),_=o.MAs(1);o.Udp("stroke-dashoffset",c._getStrokeDashOffset(),"px")("stroke-dasharray",c._getStrokeCircumference(),"px")("stroke-width",c._getCircleStrokeWidth(),"%")("transform-origin",c._getCircleTransformOrigin(_)),o.uIk("r",c._getCircleRadius())}}const P=(0,M.pj)(class{constructor(p){this._elementRef=p}},"primary"),Q=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function R(){return{diameter:100}}});class Z extends P{constructor(d,c,_,x,T,N,L,I){super(d),this._document=_,this._diameter=100,this._value=0,this._resizeSubscription=u.w0.EMPTY,this.mode="determinate";const J=Z._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),J.has(_.head)||J.set(_.head,new Set([100])),this._noopAnimations="NoopAnimations"===x&&!!T&&!T._forceAnimations,"mat-spinner"===d.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),T&&(T.diameter&&(this.diameter=T.diameter),T.strokeWidth&&(this.strokeWidth=T.strokeWidth)),c.isBrowser&&c.SAFARI&&L&&N&&I&&(this._resizeSubscription=L.change(150).subscribe(()=>{"indeterminate"===this.mode&&I.run(()=>N.markForCheck())}))}get diameter(){return this._diameter}set diameter(d){this._diameter=(0,A.su)(d),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(d){this._strokeWidth=(0,A.su)(d)}get value(){return"determinate"===this.mode?this._value:0}set value(d){this._value=Math.max(0,Math.min(100,(0,A.su)(d)))}ngOnInit(){const d=this._elementRef.nativeElement;this._styleRoot=(0,C.kV)(d)||this._document.head,this._attachStyleNode(),d.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const d=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${d} ${d}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(d){const c=50*(d.currentScale??1);return`${c}% ${c}%`}_attachStyleNode(){const d=this._styleRoot,c=this._diameter,_=Z._diameters;let x=_.get(d);if(!x||!x.has(c)){const T=this._document.createElement("style");T.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),T.textContent=this._getAnimationText(),d.appendChild(T),x||(x=new Set,_.set(d,x)),x.add(c)}}_getAnimationText(){const d=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*d).replace(/END_VALUE/g,""+.2*d).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Z._diameters=new WeakMap,Z.\u0275fac=function(d){return new(d||Z)(o.Y36(o.SBq),o.Y36(C.t4),o.Y36(v.K0,8),o.Y36(o.QbO,8),o.Y36(Q),o.Y36(o.sBO),o.Y36(S.rL),o.Y36(o.R0b))},Z.\u0275cmp=o.Xpm({type:Z,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(d,c){2&d&&(o.uIk("aria-valuemin","determinate"===c.mode?0:null)("aria-valuemax","determinate"===c.mode?100:null)("aria-valuenow","determinate"===c.mode?c.value:null)("mode",c.mode),o.Udp("width",c.diameter,"px")("height",c.diameter,"px"),o.ekj("_mat-animation-noopable",c._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(d,c){1&d&&(o.O4$(),o.TgZ(0,"svg",0,1),o.YNc(2,e,1,11,"circle",2),o.YNc(3,B,1,9,"circle",3),o.qZA()),2&d&&(o.Udp("width",c.diameter,"px")("height",c.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===c.mode),o.uIk("viewBox",c._getViewBox()),o.xp6(2),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},dependencies:[v.RF,v.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let U=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=o.oAB({type:p}),p.\u0275inj=o.cJS({imports:[[M.BQ,v.ez],M.BQ]}),p})()}}]);