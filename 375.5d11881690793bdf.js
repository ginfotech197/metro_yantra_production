"use strict";(self.webpackChunkbase_project=self.webpackChunkbase_project||[]).push([[375],{5480:(y,v,l)=>{l.d(v,{q:()=>_});var h=l(4859),x=l(4144),c=l(4650);let _=(()=>{class o{}return o.\u0275fac=function(C){return new(C||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[h.ot,x.c]}),o})()},5375:(y,v,l)=>{l.r(v),l.d(v,{MasterTerminalModule:()=>Ue});var h=l(6895),x=l(2510),c=l(4006),_=l(5226),o=l.n(_),e=l(4650),C=l(1599),J=l(9366),L=l(2088),k=l(5620),F=l(7431),U=l(3848),E=l(4859),M=l(9549),P=l(4144),f=l(277),w=l(4784),A=l(3546),p=l(6308),u=l(4385),d=l(3238),T=l(7392),Z=l(4537),g=l(8567),S=l(3189);function I(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"This field is Required"),e.qZA())}function q(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij("Minimum length of name is ",t.terminalMasterForm.get("terminalName").errors.minlength.requiredLength,"")}}function N(i,s){if(1&i&&(e.TgZ(0,"div",71),e.YNc(1,I,2,0,"mat-error",72),e.YNc(2,q,2,1,"mat-error",72),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.terminalMasterForm.get("terminalName").errors.required),e.xp6(1),e.Q6J("ngIf",t.terminalMasterForm.get("terminalName").errors.minlength)}}function D(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-option",73),e.NdJ("blur",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.selectSuperStockist(a))}),e._uU(1),e.qZA()}if(2&i){const t=s.$implicit;e.Q6J("value",t.stockist_id),e.xp6(1),e.hij(" ",t.user_name," ")}}function Q(i,s){if(1&i&&(e.TgZ(0,"mat-option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.userId),e.xp6(1),e.hij(" ",t.userName," ")}}function R(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",75)(1,"div",76)(2,"mat-label"),e._uU(3,"Tripple Chance "),e.qZA(),e.TgZ(4,"input",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(1))}),e.qZA()(),e.TgZ(5,"div",78)(6,"mat-label"),e._uU(7,"12 Card "),e.qZA(),e.TgZ(8,"input",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(2))}),e.qZA()(),e.TgZ(9,"div",78)(10,"mat-label"),e._uU(11,"16 Card "),e.qZA(),e.TgZ(12,"input",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(3))}),e.qZA()(),e.TgZ(13,"div",78)(14,"mat-label"),e._uU(15,"Single "),e.qZA(),e.TgZ(16,"input",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(4))}),e.qZA()(),e.TgZ(17,"div",78)(18,"mat-label"),e._uU(19,"Double "),e.qZA(),e.TgZ(20,"input",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enableGameCreateTerminal(5))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("checked",1==t.game1),e.xp6(4),e.Q6J("checked",1==t.game2),e.xp6(4),e.Q6J("checked",1==t.game3),e.xp6(4),e.Q6J("checked",1==t.game4),e.xp6(4),e.Q6J("checked",1==t.game5)}}function Y(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",85),e.qZA())}function G(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"i",86),e.qZA())}function V(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",87),e.qZA())}function K(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"i",88),e.qZA())}function W(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.approveLogin(r))}),e._uU(1,"Approve"),e.qZA()}}function $(i,s){1&i&&(e.TgZ(0,"label"),e._uU(1,"Approved"),e.qZA())}function j(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",79)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",58),e._uU(4),e.YNc(5,Y,2,0,"div",72),e.YNc(6,G,2,0,"div",72),e.YNc(7,V,2,0,"div",72),e.YNc(8,K,2,0,"div",72),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e.YNc(20,W,2,0,"button",80),e.YNc(21,$,2,0,"label",72),e.qZA(),e.TgZ(22,"td")(23,"a",81)(24,"img",82),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return m.onTerminalSelectTransferPoint(a.terminalId),e.KtG(m.selectedTab=1)}),e.qZA()(),e.TgZ(25,"a",81)(26,"img",83),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return m.onTerminalSelect(a.terminalId),e.KtG(m.selectedTab=2)}),e.qZA()()(),e.TgZ(27,"td")(28,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.updateBlock(a.terminalId))}),e.qZA()(),e.TgZ(29,"td")(30,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.updateAutoClaim(a.terminalId))}),e.qZA()(),e.TgZ(31,"td")(32,"i",84),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.editTerminal(a))}),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index,r=e.oxw();e.Q6J("ngStyle",r.getBackgroundColor(n,t)),e.xp6(2),e.Oqu(n+1),e.xp6(2),e.hij(" ",t.terminalName," "),e.xp6(1),e.Q6J("ngIf","exe"==t.platform&&"P"==t.version),e.xp6(1),e.Q6J("ngIf","exe"==t.platform&&"NP"==t.version),e.xp6(1),e.Q6J("ngIf","apk"==t.platform&&"P"==t.version),e.xp6(1),e.Q6J("ngIf","apk"==t.platform&&"NP"==t.version),e.xp6(2),e.Oqu(t.password),e.xp6(2),e.Oqu(t.commission),e.xp6(2),e.Oqu(t.balance),e.xp6(2),e.Oqu(t.superStockist.userName),e.xp6(2),e.Oqu(t.stockist.userName),e.xp6(2),e.Q6J("ngIf",1==t.loginActivate),e.xp6(1),e.Q6J("ngIf",2==t.loginActivate),e.xp6(7),e.Q6J("checked",1==t.blocked),e.xp6(2),e.Q6J("checked",1==t.autoClaim)}}function H(i,s){if(1&i&&(e.TgZ(0,"mat-option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function X(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",91),e.TgZ(4,"mat-icon",92),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.terminalName)}}function z(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Current balance"),e.qZA(),e._UZ(3,"input",93),e.TgZ(4,"mat-icon",92),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.balance)}}function ee(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Stockist owner"),e.qZA(),e._UZ(3,"input",91),e.TgZ(4,"mat-icon",92),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.stockist.userName)}}function te(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Stockist balance"),e.qZA(),e._UZ(3,"input",93),e.TgZ(4,"mat-icon",92),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminalTransferPoint.stockist.balance)}}function ne(i,s){if(1&i&&(e.TgZ(0,"div",5),e.YNc(1,ee,6,1,"mat-form-field",43),e.YNc(2,te,6,1,"mat-form-field",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint)}}function ie(i,s){1&i&&(e.TgZ(0,"mat-form-field",95)(1,"mat-label"),e._uU(2,"Recharge amount"),e.qZA(),e._UZ(3,"input",96),e.TgZ(4,"mat-icon",92),e._uU(5," money"),e.qZA()())}function ae(i,s){if(1&i&&(e.TgZ(0,"div",5),e.YNc(1,ie,6,0,"mat-form-field",94),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminalTransferPoint)}}function re(i,s){if(1&i&&(e.TgZ(0,"mat-option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function oe(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Name"),e.qZA(),e._UZ(3,"input",91),e.TgZ(4,"mat-icon",92),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminal.terminalName)}}function se(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Current balance"),e.qZA(),e._UZ(3,"input",93),e.TgZ(4,"mat-icon",92),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.selectedTerminal.balance)}}function le(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Stockist owner"),e.qZA(),e._UZ(3,"input",91),e.TgZ(4,"mat-icon",92),e._uU(5,"person_pin"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminal.stockist.userName)}}function me(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",90)(1,"mat-label"),e._uU(2,"Stockist balance"),e.qZA(),e._UZ(3,"input",93),e.TgZ(4,"mat-icon",92),e._uU(5,"account_balance_wallet"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("value",t.selectedTerminal.stockist.balance)}}function ce(i,s){if(1&i&&(e.TgZ(0,"div",5),e.YNc(1,le,6,1,"mat-form-field",43),e.YNc(2,me,6,1,"mat-form-field",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminal),e.xp6(1),e.Q6J("ngIf",t.selectedTerminal)}}function de(i,s){1&i&&(e.TgZ(0,"mat-form-field",95)(1,"mat-label"),e._uU(2,"Recharge amount"),e.qZA(),e._UZ(3,"input",96),e.TgZ(4,"mat-icon",92),e._uU(5," money"),e.qZA()())}function ue(i,s){if(1&i&&(e.TgZ(0,"div",5),e.YNc(1,de,6,0,"mat-form-field",94),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTerminal)}}function pe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-option",97),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.transactionId=r)}),e._uU(1),e.qZA()}if(2&i){const t=s.$implicit,n=e.oxw();e.Q6J("ngModel",n.transactionId)("value",t.terminalId),e.xp6(1),e.hij(" ",t.pin," ")}}function _e(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendMailTransaction())}),e._uU(1,"Send Mail"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",!t.emailFormControl.valid||null==t.emailFormControl.value)}}function ge(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()()),2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.AsE("",t.date," (",t.time,")"),e.xp6(2),e.Oqu(t.game_name),e.xp6(2),e.Oqu(t.barcode_number),e.xp6(2),e.Oqu(t.old_amount),e.xp6(2),e.Oqu(t.recharged_amount),e.xp6(2),e.Oqu(t.played_amount),e.xp6(2),e.Oqu(t.prize_amount),e.xp6(2),e.Oqu(t.new_amount)}}function fe(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.rechargedTo.userName),e.xp6(2),e.Oqu(t.rechargedby.userName),e.xp6(2),e.Oqu(t.oldAmount),e.xp6(2),e.Oqu(t.rechargedAmount),e.xp6(2),e.Oqu(t.newAmount),e.xp6(2),e.Oqu(t.dateAndTime)}}function he(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",70),e._uU(2),e.qZA(),e.TgZ(3,"td",70),e._uU(4),e.qZA(),e.TgZ(5,"td",70)(6,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.gamePermissionUpdate(1,a.terminalId))}),e.qZA()(),e.TgZ(7,"td",70)(8,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.gamePermissionUpdate(2,a.terminalId))}),e.qZA()(),e.TgZ(9,"td",70)(10,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.gamePermissionUpdate(3,a.terminalId))}),e.qZA()(),e.TgZ(11,"td",70)(12,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.gamePermissionUpdate(4,a.terminalId))}),e.qZA()(),e.TgZ(13,"td",70)(14,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.gamePermissionUpdate(5,a.terminalId))}),e.qZA()(),e.TgZ(15,"td",70)(16,"input",77),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.gamePermissionUpdate(6,a.terminalId))}),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.terminalName),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game1),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game2),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game3),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game4),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game5),e.xp6(2),e.Q6J("checked",1==t.gamePermission.game6)}}const Te=function(i,s){return{itemsPerPage:i,currentPage:s}};let Ze=(()=>{class i{constructor(t,n,r,a,m){this.masterSuperStockistService=t,this.authService=n,this.masterTerminalService=r,this.commonService=a,this.transactionReportService=m,this.isTerminalUpdatAble=!1,this.payoutSlabs=[],this.selectedTerminal=null,this.selectedTerminalTransferPoint=null,this.highLightedRowIndex=-1,this.pinCheckValidator=!1,this.rechargedToID=null,this.transactionData=[],this.terminalFilter=null,this.p=1,this.p1=1,this.itemsOnEveryPage=10,this.searchItem=null,this.transactionId=null,this.selectedTab=0,this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.mailStatus=0,this.emailFormControl=new c.p4(null,[c.kI.email]),this.user=this.authService.userBehaviorSubject.value,this.authService.userBehaviorSubject.subscribe(b=>{this.user=b}),this.terminalMasterForm=new c.nJ({id:new c.p4(null),terminalName:new c.p4(null,[c.kI.required,c.kI.minLength(2)]),stockistId:new c.p4(null,[c.kI.required]),payoutSlabId:new c.p4(null),superStockistId:new c.p4(null,[c.kI.required]),pin:new c.p4(null,[c.kI.required]),commission:new c.p4(null,[c.kI.required,c.kI.max(this.user.commission)])}),this.terminalLimitForm=new c.nJ({beneficiaryUid:new c.p4(null,[c.kI.required]),amount:new c.p4(null,[c.kI.required])})}ngOnInit(){this.superStockists=this.masterSuperStockistService.getSuperStockists(),this.masterSuperStockistService.getSuperStockistListener().subscribe(t=>{this.superStockists=t}),this.terminals=this.masterTerminalService.getTerminals(),this.masterTerminalService.getTerminalListener().subscribe(t=>{this.terminals=t,this.sortedTerminalList=this.terminals.filter(n=>n.superStockistId===this.user.userId)}),this.sortedTerminalList=this.terminals.filter(t=>t.superStockistId===this.user.userId),this.masterSuperStockistService.getStockistBySuperStockistId(this.user.userId),this.masterSuperStockistService.getStockistListener().subscribe(t=>{this.stockists=t}),this.payoutSlabs=this.masterTerminalService.getPayoutSlabs(),this.masterTerminalService.getPayoutSlabListener().subscribe(t=>{this.payoutSlabs=t})}updateAutoClaim(t){this.masterTerminalService.updateAutoClaim(t).subscribe()}refreshTerminalList(){this.masterTerminalService.getAllUpdatedTerminals()}gamePermissionUpdate(t,n){this.masterTerminalService.gamePermission(t,n).subscribe()}updateBlock(t){this.masterTerminalService.updateBlock(t).subscribe()}approveLogin(t){this.masterTerminalService.loginApprove(t.terminalId).subscribe()}getTransaction(){this.transactionReportService.getTransactionByUser({rechargedToID:this.rechargedToID,rechargedByID:this.user.userId}).subscribe(n=>{this.transactionData=n.data})}sortData(t){const n=this.terminals.slice();this.sortedTerminalList=t.active&&""!==t.direction?n.sort((r,a)=>{const m="asc"===t.direction;switch(t.active){case"terminalName":return O(r.terminalName,a.terminalName,m);case"stockistName":return O(r.stockist.userName,a.stockist.userName,m);case"balance":return O(r.balance,a.balance,m);default:return 0}}):n}checkPinValidation(){this.commonService.checkPinValidation(this.terminalMasterForm.value.terminalName).subscribe(t=>{0===t.success?(o().fire({position:"top-end",icon:"error",title:"User already exists",showConfirmButton:!1,timer:2e3}),this.pinCheckValidator=!0,this.terminalMasterForm.patchValue({terminalName:null})):this.pinCheckValidator=!1})}onTerminalSelectTransferPoint(t){t.value?(this.selectedTerminalTransferPoint=this.terminals.find(n=>n.terminalId===t.value),this.terminalLimitForm.controls.amount.setValidators([c.kI.max(this.selectedTerminalTransferPoint.stockist.balance)])):(this.terminalLimitForm.patchValue({beneficiaryUid:t}),this.selectedTerminalTransferPoint=this.terminals.find(n=>n.terminalId===t))}onTerminalSelect(t){t.value?(this.selectedTerminal=this.terminals.find(n=>n.terminalId===t.value),this.terminalLimitForm.controls.amount.setValidators([c.kI.max(this.selectedTerminal.stockist.balance)])):(this.terminalLimitForm.patchValue({beneficiaryUid:t}),this.selectedTerminal=this.terminals.find(n=>n.terminalId===t))}selectSuperStockist(t){this.terminalMasterForm.patchValue({superStockistId:t.super_stockist_id}),this.terminalMasterForm.value.superStockistId=t.superStockistId}rechargeToTerminal(){parseInt(this.terminalLimitForm.value.amount)<0?o().fire({position:"top-end",icon:"info",title:"Amount cannot be negative",showConfirmButton:!1,timer:3e3}):this.selectedTerminalTransferPoint.stockist.balance<this.terminalLimitForm.value.amount?o().fire({position:"top-end",icon:"error",title:"Insufficient balance",showConfirmButton:!1,timer:1e3}):o().fire({title:"Confirmation",text:"Do you sure to recharge?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, recharge It!"}).then(t=>{t.isConfirmed&&this.masterTerminalService.saveTerminalBalance({beneficiaryUid:this.terminalLimitForm.value.beneficiaryUid,stockistId:this.selectedTerminalTransferPoint.stockist.userId,amount:this.terminalLimitForm.value.amount,rechargeDoneByUid:this.user.userId}).subscribe(r=>{if(1===r.success){const a=r.data,m=this.terminals.findIndex(B=>B.terminalId===a.terminalId);this.terminals[m].balance=a.balance,this.terminals[m].stockist.balance=a.stockist.balance,this.authService.setUserBalanceBy(this.user.balance-this.terminalLimitForm.value.amount),this.sortedTerminalList[m].balance=a.balance,this.sortedTerminalList[m].stockist.balance=a.stockist.balance,this.highLightedRowIndex=m,this.terminalLimitForm.patchValue({amount:""}),setTimeout(()=>{this.highLightedRowIndex=-1},1e4),o().fire({position:"top-end",icon:"success",title:"Recharge done",showConfirmButton:!1,timer:1e3})}else o().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},r=>{console.log("data saving error",r)})})}adjustPointToTerminal(){console.log(this.selectedTerminal.balance),console.log(this.terminalLimitForm.value.amount),parseInt(this.terminalLimitForm.value.amount)<0?o().fire({position:"top-end",icon:"info",title:"Amount cannot be negative",showConfirmButton:!1,timer:3e3}):this.selectedTerminal.balance<parseInt(this.terminalLimitForm.value.amount)?o().fire({position:"top-end",icon:"error",title:"Insufficient balance",showConfirmButton:!1,timer:1e3}):o().fire({title:"Confirmation",text:"Do you sure to recharge?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, recharge It!"}).then(t=>{t.isConfirmed&&this.masterTerminalService.saveTerminalBalance({beneficiaryUid:this.terminalLimitForm.value.beneficiaryUid,stockistId:this.selectedTerminal.stockist.userId,amount:-this.terminalLimitForm.value.amount,rechargeDoneByUid:this.user.userId}).subscribe(r=>{if(1===r.success){const a=r.data,m=this.terminals.findIndex(B=>B.terminalId===a.terminalId);this.terminals[m].balance=a.balance,this.terminals[m].stockist.balance=a.stockist.balance,this.authService.setUserBalanceBy(this.user.balance-this.terminalLimitForm.value.amount),this.sortedTerminalList[m].balance=a.balance,this.sortedTerminalList[m].stockist.balance=a.stockist.balance,this.highLightedRowIndex=m,this.terminalLimitForm.patchValue({amount:""}),setTimeout(()=>{this.highLightedRowIndex=-1},1e4),o().fire({position:"top-end",icon:"success",title:"Recharge done",showConfirmButton:!1,timer:1e3})}else o().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},r=>{console.log("data saving error",r)})})}updateTerminal(){const t=this.stockists.findIndex(n=>n.id===this.terminalMasterForm.value.stockistId);parseFloat(String(this.stockists[t].commission))<parseFloat(this.terminalMasterForm.value.commission)?o().fire({position:"top-end",icon:"info",title:"Terminal commission is more than stockist commission",showConfirmButton:!1,timer:2e3}):o().fire({title:"Confirmation",text:"Do you sure to update terminal?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(n=>{n.isConfirmed&&this.masterTerminalService.updateTerminal({terminalId:this.terminalMasterForm.value.id,terminalName:this.terminalMasterForm.value.terminalName,stockistId:this.terminalMasterForm.value.stockistId,superStockistId:this.user.userId,payoutSlabId:this.terminalMasterForm.value.payoutSlabId,pin:this.terminalMasterForm.value.pin,userId:this.user.userId,commission:this.terminalMasterForm.value.commission}).subscribe(a=>{1===a.success?(this.sortedTerminalList[this.highLightedRowIndex]=a.data,this.terminalMasterForm.reset(),this.isTerminalUpdatAble=!1,setTimeout(()=>{this.highLightedRowIndex=-1},5e3),o().fire({position:"top-end",icon:"success",title:"Terminal Updated",showConfirmButton:!1,timer:1e3})):o().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{console.log("data saving error",a)})})}enableGameCreateTerminal(t){1===t?this.game1=1===this.game1?0:1:2===t?this.game2=1===this.game2?0:1:3===t?this.game3=1===this.game3?0:1:4===t?this.game4=1===this.game4?0:1:5===t&&(this.game5=1===this.game5?0:1)}editTerminal(t){this.terminalMasterForm.patchValue({id:t.terminalId,terminalName:t.terminalName,stockistId:t.stockistId,pin:t.pin,payoutSlabId:t.payoutSlabId,commission:t.commission,superStockistId:t.superStockistId}),this.isTerminalUpdatAble=!0}getBackgroundColor(t,n){return t==this.highLightedRowIndex?{"background-color":"rgb(103 245 166 / 60%)",animation:"blinking 1s infinite"}:"Offline"===n.status?{"background-color":"#f08080"}:"Online"===n.status?{"background-color":"#90ee90"}:void 0}clearMasterTerminalForm(){this.terminalMasterForm.reset(),this.isTerminalUpdatAble=!1}createNewTerminal(){const t=this.stockists.findIndex(n=>n.id===this.terminalMasterForm.value.stockistId);parseFloat(String(this.stockists[t].commission))<parseFloat(this.terminalMasterForm.value.commission)?o().fire({position:"top-end",icon:"info",title:"Terminal commission is more than stockist commission",showConfirmButton:!1,timer:2e3}):o().fire({title:"Confirmation",text:"Do you sure to create terminal?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(n=>{n.isConfirmed&&this.masterTerminalService.saveNewTerminal({terminalId:this.terminalMasterForm.value.id,terminalName:this.terminalMasterForm.value.terminalName,stockistId:this.terminalMasterForm.value.stockistId,superStockistId:this.user.userId,payoutSlabId:this.terminalMasterForm.value.payoutSlabId,createdBy:this.user.userId,pin:this.terminalMasterForm.value.pin,commission:this.terminalMasterForm.value.commission,game1:this.game1,game2:this.game2,game3:this.game3,game4:this.game4,game5:this.game5}).subscribe(a=>{1===a.success?(this.game1=0,this.game2=0,this.game3=0,this.game4=0,this.game5=0,this.clearMasterTerminalForm(),o().fire({position:"top-end",icon:"success",title:"Terminal created",showConfirmButton:!1,timer:1e3}),this.highLightedRowIndex=0,setTimeout(()=>{this.highLightedRowIndex=-1},5e3)):o().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{})})}getTransactionDetails(){this.masterTerminalService.getTransactionDetails(this.selectedTerminal.terminalId).subscribe(t=>{this.transactionDetails=t.data})}sendMailTransaction(){if(null==this.transactionId)return void o().fire({position:"top-end",icon:"info",title:"Select terminal",showConfirmButton:!1,timer:2e3});const t={email:this.emailFormControl.value,sentBy:this.user.userId,terminalId:this.transactionId};this.mailStatus=1,this.masterTerminalService.sendMailTransaction(t).subscribe(n=>{1===n.success&&(this.mailStatus=0,o().fire({position:"top-end",icon:"success",title:"Mail Sent",showConfirmButton:!1,timer:1e3}),this.emailFormControl.reset())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.Q),e.Y36(J.e),e.Y36(L.S),e.Y36(k.v),e.Y36(F.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-master-terminal"]],decls:313,vars:51,consts:[[3,"selectedIndex"],["label","Create terminal"],[1,"flex-row","mt-2"],[1,"col-8"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["fxFlex","100"],[3,"formGroup"],["type","text","matInput","","formControlName","terminalName","placeholder","Enter name",3,"change"],["class","container","fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",4,"ngIf"],["type","text","matInput","","formControlName","pin","placeholder","Enter name"],["formControlName","stockistId"],[3,"value","blur",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","commission","placeholder","Commission"],[2,"color","red"],["fxFlex","50"],["formControlName","superStockistId","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"m-0","p-0"],[1,"col","m-0","p-0"],["fxFlex","100","class","d-flex m-3",4,"ngIf"],["mat-raised-button","","color","primary","mat-stroked-button","",1,"pull-right",3,"disabled","click"],["mat-raised-button","","color","warn","mat-stroked-button","",1,"pull-right",3,"click"],[1,"mt-2",2,"background-color","#6c757d5e"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important",3,"matSortChange"],["scope","colgroup","colspan","6",1,"text-center"],["scope","colgroup","colspan","2",1,"text-center"],["placeholder","Search",1,"col-12",3,"ngModel","ngModelChange"],["placeholder","Items",1,"col-12",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"click"],[1,"material-icons"],["mat-sort-header","terminalName"],["mat-sort-header","pin"],["mat-sort-header","balance"],["mat-sort-header","stockistName"],["mat-sort-header","edit"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"pageChange"],["label","Transfer Point"],[1,"d-flex","flex-row","mt-2"],[1,"col-2"],["fxFlex","25"],["formControlName","beneficiaryUid",3,"selectionChange"],["appearance","legacy",4,"ngIf"],["class","container","fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",4,"ngIf"],["label","Adjust Point"],["label","Full Transaction"],["fxFlex","45"],["fxFlex","row"],[3,"ngModel","value","ngModelChange",4,"ngFor","ngForOf"],["fxFlex","50",1,"ml-5"],[1,""],[1,"d-flex","col-7"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","placeholder","Ex. pat@example.com",3,"formControl"],[1,"d-flex","mt-2"],["style","max-height: 40px","mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],[1,"d-flex"],["mat-raised-button","","color","warn",1,"ml-4",3,"click"],["scope","colgroup","colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],["label","Terminal Tranaction"],["fxFlex","60"],["bindLabel","pin","bindValue","terminalId",3,"items","ngModel","ngModelChange"],["label","Game Allocation"],["appearance","fill",1,"example-full-width","col-5"],["matInput","","placeholder","Terminal Name",3,"ngModel","ngModelChange"],[1,"table","table-bordered","col-8"],["scope","colgroup","colspan","3",1,"text-center"],["scope","col"],["fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[4,"ngIf"],[3,"value","blur"],[3,"value"],["fxFlex","100",1,"d-flex","m-3"],["fxFlex","30",1,"m-2"],["type","checkbox",3,"checked","click"],["fxFlex","15",1,"m-2"],[3,"ngStyle"],["mat-button","","color","primary","style","border: black solid 1px",3,"click",4,"ngIf"],[2,"cursor","pointer"],["src","assets/images/transfer_point.png","loading","lazy","decoding","async",3,"click"],["src","assets/images/adjust_point.png","loading","lazy","decoding","async",3,"click"],[1,"bi","bi-pencil-square",3,"click"],["loading","lazy","decoding","async","height","20","src","assets/images/pc_print.png"],[1,"bi","bi-pc-display-horizontal"],["loading","lazy","decoding","async","height","20","src","assets/images/mobile_print.png"],[1,"bi","bi-phone"],["mat-button","","color","primary",2,"border","black solid 1px",3,"click"],["appearance","legacy"],["type","text","matInput","","readonly","","placeholder","Stockist",3,"value"],["matSuffix",""],["type","text","readonly","","matInput","","placeholder","Current balance",3,"value"],["class","d-flex","fxFlex","100",4,"ngIf"],["fxFlex","100",1,"d-flex"],["type","number","min","1","matInput","","formControlName","amount","placeholder","Enter amount"],[3,"ngModel","value","ngModelChange"],["mat-raised-button","","color","warn",2,"max-height","40px",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"div",2)(3,"div",3)(4,"mat-card")(5,"mat-card-header"),e._UZ(6,"div",4),e.TgZ(7,"mat-card-title"),e._uU(8,"New Terminal Form"),e.qZA()(),e.TgZ(9,"mat-card-content")(10,"div",5)(11,"div",6)(12,"form",7)(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),e._uU(16,"Terminal Name"),e.qZA(),e.TgZ(17,"input",8),e.NdJ("change",function(){return n.checkPinValidation()}),e.qZA(),e.YNc(18,N,3,2,"div",9),e.qZA(),e.TgZ(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"PIN"),e.qZA(),e._UZ(22,"input",10),e.qZA()(),e.TgZ(23,"div",5)(24,"mat-form-field",6)(25,"mat-label"),e._uU(26,"Stockist"),e.qZA(),e.TgZ(27,"mat-select",11),e.YNc(28,D,2,2,"mat-option",12),e.qZA()(),e.TgZ(29,"mat-form-field",6)(30,"mat-label"),e._uU(31,"Commission"),e.qZA(),e._UZ(32,"input",13),e.qZA(),e.TgZ(33,"label",14),e._uU(34),e.qZA()(),e.TgZ(35,"div",5)(36,"mat-form-field",15)(37,"mat-label"),e._uU(38,"Super Stockist"),e.qZA(),e.TgZ(39,"mat-select",16),e.YNc(40,Q,2,2,"mat-option",17),e.qZA()(),e._UZ(41,"div",18),e.qZA(),e.TgZ(42,"div",5)(43,"div",19),e.YNc(44,R,21,5,"div",20),e.qZA()()()()(),e.TgZ(45,"div",5)(46,"button",21),e.NdJ("click",function(){return n.createNewTerminal()}),e._uU(47,"Create"),e.qZA(),e.TgZ(48,"button",21),e.NdJ("click",function(){return n.updateTerminal()}),e._uU(49,"Update"),e.qZA(),e.TgZ(50,"button",22),e.NdJ("click",function(){return n.clearMasterTerminalForm()}),e._uU(51,"clear"),e.qZA()()()()(),e.TgZ(52,"div",23)(53,"table",24),e.NdJ("matSortChange",function(a){return n.sortData(a)}),e.TgZ(54,"thead")(55,"tr")(56,"th",25),e._uU(57,"Terminal List"),e.qZA(),e.TgZ(58,"th",26)(59,"label"),e._uU(60,"Search"),e.qZA(),e.TgZ(61,"input",27),e.NdJ("ngModelChange",function(a){return n.searchItem=a}),e.qZA()(),e.TgZ(62,"th",26)(63,"label"),e._uU(64,"No. of items"),e.qZA(),e.TgZ(65,"input",28),e.NdJ("ngModelChange",function(a){return n.itemsOnEveryPage=a}),e.qZA()(),e.TgZ(66,"th",26)(67,"button",29),e.NdJ("click",function(){return n.refreshTerminalList()}),e._uU(68," Refresh "),e.TgZ(69,"span",30),e._uU(70,"refresh"),e.qZA()()()(),e.TgZ(71,"tr")(72,"th"),e._uU(73,"Id"),e.qZA(),e.TgZ(74,"th",31),e._uU(75,"T name"),e.qZA(),e.TgZ(76,"th",32),e._uU(77,"Pass"),e.qZA(),e.TgZ(78,"th",33),e._uU(79,"Comm"),e.qZA(),e.TgZ(80,"th",33),e._uU(81,"Balance"),e.qZA(),e.TgZ(82,"th",34),e._uU(83,"SS Name"),e.qZA(),e.TgZ(84,"th",34),e._uU(85,"Stockist"),e.qZA(),e.TgZ(86,"th"),e._uU(87,"Login Approve"),e.qZA(),e.TgZ(88,"th"),e._uU(89,"Action"),e.qZA(),e.TgZ(90,"th",34),e._uU(91,"Blocked"),e.qZA(),e.TgZ(92,"th",34),e._uU(93,"Auto Claim"),e.qZA(),e.TgZ(94,"th",35),e._uU(95,"Edit"),e.qZA()()(),e.TgZ(96,"tbody"),e.YNc(97,j,33,16,"tr",36),e.ALo(98,"paginate"),e.ALo(99,"filter"),e.qZA()(),e.TgZ(100,"pagination-controls",37),e.NdJ("pageChange",function(a){return n.p1=a}),e.qZA()()()(),e.TgZ(101,"mat-tab",38)(102,"div",39),e._UZ(103,"div",40),e.TgZ(104,"div",3)(105,"mat-card")(106,"mat-card-header"),e._UZ(107,"div",4),e.TgZ(108,"mat-card-title"),e._uU(109,"Recharge Terminal"),e.qZA()(),e.TgZ(110,"mat-card-content")(111,"div",5)(112,"div",6)(113,"form",7)(114,"div",5)(115,"mat-form-field",41)(116,"mat-label"),e._uU(117,"Terminal"),e.qZA(),e.TgZ(118,"mat-select",42),e.NdJ("selectionChange",function(a){return n.onTerminalSelectTransferPoint(a)}),e.YNc(119,H,2,2,"mat-option",17),e.qZA()(),e.YNc(120,X,6,1,"mat-form-field",43),e.YNc(121,z,6,1,"mat-form-field",43),e.qZA(),e.YNc(122,ne,3,2,"div",44),e.YNc(123,ae,2,1,"div",44),e.TgZ(124,"div",5)(125,"button",22),e.NdJ("click",function(){return n.rechargeToTerminal()}),e._uU(126,"Save"),e.qZA()()()()()()()(),e._UZ(127,"div",40),e.qZA()(),e.TgZ(128,"mat-tab",45)(129,"div",39),e._UZ(130,"div",40),e.TgZ(131,"div",3)(132,"mat-card")(133,"mat-card-header"),e._UZ(134,"div",4),e.TgZ(135,"mat-card-title"),e._uU(136,"Recharge Terminal"),e.qZA()(),e.TgZ(137,"mat-card-content")(138,"div",5)(139,"div",6)(140,"form",7)(141,"div",5)(142,"mat-form-field",41)(143,"mat-label"),e._uU(144,"Terminal"),e.qZA(),e.TgZ(145,"mat-select",42),e.NdJ("selectionChange",function(a){return n.onTerminalSelect(a)}),e.YNc(146,re,2,2,"mat-option",17),e.qZA()(),e.YNc(147,oe,6,1,"mat-form-field",43),e.YNc(148,se,6,1,"mat-form-field",43),e.qZA(),e.YNc(149,ce,3,2,"div",44),e.YNc(150,ue,2,1,"div",44),e.TgZ(151,"div",5)(152,"button",22),e.NdJ("click",function(){return n.adjustPointToTerminal()}),e._uU(153,"Save"),e.qZA()()()()()()()(),e._UZ(154,"div",40),e.qZA()(),e.TgZ(155,"mat-tab",46)(156,"div",39),e._UZ(157,"div",40),e.TgZ(158,"div",3)(159,"mat-card")(160,"mat-card-header"),e._UZ(161,"div",4),e.TgZ(162,"mat-card-title"),e._uU(163,"Terminal Transaction Report"),e.qZA()(),e.TgZ(164,"mat-card-content")(165,"div",5)(166,"div",6)(167,"div",47)(168,"mat-form-field",48)(169,"mat-label"),e._uU(170,"Terminal"),e.qZA(),e.TgZ(171,"mat-select",42),e.NdJ("selectionChange",function(a){return n.onTerminalSelect(a)}),e.YNc(172,pe,2,3,"mat-option",49),e.qZA()()(),e.TgZ(173,"div",50)(174,"div",51)(175,"div",52)(176,"form",53)(177,"mat-form-field",54)(178,"mat-label"),e._uU(179,"Email"),e.qZA(),e._UZ(180,"input",55),e.qZA(),e.TgZ(181,"label",14),e._uU(182,"NOTE: Only 30 days transaction will be mailed"),e.qZA()()(),e.TgZ(183,"div",56),e.YNc(184,_e,2,1,"button",57),e.qZA()()()()()(),e.TgZ(185,"div",58)(186,"button",59),e.NdJ("click",function(){return n.getTransactionDetails()}),e._uU(187,"Get Transaction"),e.qZA()()()(),e._UZ(188,"div",40),e.qZA(),e.TgZ(189,"div",23)(190,"table",24),e.NdJ("matSortChange",function(a){return n.sortData(a)}),e.TgZ(191,"thead")(192,"tr")(193,"th",60),e._uU(194,"Terminal List"),e.qZA(),e.TgZ(195,"th",26)(196,"label"),e._uU(197,"Search"),e.qZA(),e.TgZ(198,"input",27),e.NdJ("ngModelChange",function(a){return n.searchItem=a}),e.qZA()(),e.TgZ(199,"th",26)(200,"label"),e._uU(201,"No. of items"),e.qZA(),e.TgZ(202,"input",28),e.NdJ("ngModelChange",function(a){return n.itemsOnEveryPage=a}),e.qZA()()(),e.TgZ(203,"tr")(204,"th"),e._uU(205,"SL No."),e.qZA(),e.TgZ(206,"th"),e._uU(207,"Description"),e.qZA(),e.TgZ(208,"th"),e._uU(209,"Date and Time"),e.qZA(),e.TgZ(210,"th"),e._uU(211,"Game Name"),e.qZA(),e.TgZ(212,"th"),e._uU(213,"Barcode"),e.qZA(),e.TgZ(214,"th"),e._uU(215,"Opening balance"),e.qZA(),e.TgZ(216,"th"),e._uU(217,"Recharged"),e.qZA(),e.TgZ(218,"th"),e._uU(219,"Played"),e.qZA(),e.TgZ(220,"th"),e._uU(221,"Prize"),e.qZA(),e.TgZ(222,"th"),e._uU(223,"Closing Balance"),e.qZA()()(),e.TgZ(224,"tbody"),e.YNc(225,ge,21,11,"tr",61),e.qZA()()()(),e.TgZ(226,"mat-tab",62)(227,"div",39),e._UZ(228,"div",40),e.TgZ(229,"div",3)(230,"mat-card")(231,"mat-card-header"),e._UZ(232,"div",4),e.TgZ(233,"mat-card-title"),e._uU(234,"Terminal Transaction Report"),e.qZA()(),e.TgZ(235,"mat-card-content")(236,"div",5)(237,"div",6)(238,"div",63)(239,"ng-select",64),e.NdJ("ngModelChange",function(a){return n.rechargedToID=a}),e.qZA()()()(),e.TgZ(240,"button",59),e.NdJ("click",function(){return n.getTransaction()}),e._uU(241,"Search"),e.qZA()()()(),e._UZ(242,"div",40),e.qZA(),e.TgZ(243,"div",23)(244,"table",24),e.NdJ("matSortChange",function(a){return n.sortData(a)}),e.TgZ(245,"thead")(246,"tr")(247,"th",60),e._uU(248,"Terminal List"),e.qZA(),e.TgZ(249,"th",26)(250,"label"),e._uU(251,"Search"),e.qZA(),e.TgZ(252,"input",27),e.NdJ("ngModelChange",function(a){return n.searchItem=a}),e.qZA()(),e.TgZ(253,"th",26)(254,"label"),e._uU(255,"No. of items"),e.qZA(),e.TgZ(256,"input",28),e.NdJ("ngModelChange",function(a){return n.itemsOnEveryPage=a}),e.qZA()()(),e.TgZ(257,"tr")(258,"th"),e._uU(259,"Id"),e.qZA(),e.TgZ(260,"th",31),e._uU(261,"Recharge To"),e.qZA(),e.TgZ(262,"th",32),e._uU(263,"Recharge By"),e.qZA(),e.TgZ(264,"th",33),e._uU(265,"Old Amount"),e.qZA(),e.TgZ(266,"th",33),e._uU(267,"Recharged Amount"),e.qZA(),e.TgZ(268,"th",34),e._uU(269,"New Amount"),e.qZA(),e.TgZ(270,"th",34),e._uU(271,"Date and Time"),e.qZA()()(),e.TgZ(272,"tbody"),e.YNc(273,fe,15,7,"tr",61),e.qZA()()()(),e.TgZ(274,"mat-tab",65)(275,"mat-form-field",66)(276,"mat-label"),e._uU(277,"Terminal Name"),e.qZA(),e.TgZ(278,"input",67),e.NdJ("ngModelChange",function(a){return n.terminalFilter=a}),e.qZA()(),e.TgZ(279,"table",68)(280,"thead")(281,"tr")(282,"th",26),e._uU(283,"Game Allocation"),e.qZA(),e.TgZ(284,"th",69)(285,"label"),e._uU(286,"Search"),e.qZA(),e.TgZ(287,"input",27),e.NdJ("ngModelChange",function(a){return n.searchItem=a}),e.qZA()(),e.TgZ(288,"th",26)(289,"label"),e._uU(290,"No. of items"),e.qZA(),e.TgZ(291,"input",28),e.NdJ("ngModelChange",function(a){return n.itemsOnEveryPage=a}),e.qZA()()(),e.TgZ(292,"tr")(293,"th",70),e._uU(294,"Sl. no."),e.qZA(),e.TgZ(295,"th",70),e._uU(296,"Terminal Name"),e.qZA(),e.TgZ(297,"th",70),e._uU(298,"Triple Chance"),e.qZA(),e.TgZ(299,"th",70),e._uU(300,"12 Card"),e.qZA(),e.TgZ(301,"th",70),e._uU(302,"16 Card"),e.qZA(),e.TgZ(303,"th",70),e._uU(304,"Single"),e.qZA(),e.TgZ(305,"th",70),e._uU(306,"Double"),e.qZA(),e.TgZ(307,"th",70),e._uU(308,"Rollet"),e.qZA()()(),e.TgZ(309,"tbody"),e.YNc(310,he,17,8,"tr",61),e.ALo(311,"filter"),e.qZA()(),e.TgZ(312,"pagination-controls",37),e.NdJ("pageChange",function(a){return n.p1=a}),e.qZA()()()),2&t&&(e.Q6J("selectedIndex",n.selectedTab),e.xp6(12),e.Q6J("formGroup",n.terminalMasterForm),e.xp6(6),e.Q6J("ngIf",!n.terminalMasterForm.get("terminalName").valid&&n.terminalMasterForm.get("terminalName").touched),e.xp6(10),e.Q6J("ngForOf",n.stockists),e.xp6(6),e.hij("(Max: ",n.user.commission,")"),e.xp6(6),e.Q6J("ngForOf",n.superStockists),e.xp6(4),e.Q6J("ngIf",!n.isTerminalUpdatAble),e.xp6(2),e.Q6J("disabled",!n.terminalMasterForm.valid||n.isTerminalUpdatAble||n.pinCheckValidator),e.xp6(2),e.Q6J("disabled",!n.isTerminalUpdatAble),e.xp6(13),e.Q6J("ngModel",n.searchItem),e.xp6(4),e.Q6J("ngModel",n.itemsOnEveryPage),e.xp6(32),e.Q6J("ngForOf",e.xi3(98,39,e.xi3(99,42,n.sortedTerminalList,n.searchItem),e.WLB(48,Te,n.itemsOnEveryPage,n.p1))),e.xp6(16),e.Q6J("formGroup",n.terminalLimitForm),e.xp6(6),e.Q6J("ngForOf",n.sortedTerminalList),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(1),e.Q6J("ngIf",n.selectedTerminalTransferPoint),e.xp6(17),e.Q6J("formGroup",n.terminalLimitForm),e.xp6(6),e.Q6J("ngForOf",n.sortedTerminalList),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(1),e.Q6J("ngIf",n.selectedTerminal),e.xp6(22),e.Q6J("ngForOf",n.sortedTerminalList),e.xp6(8),e.Q6J("formControl",n.emailFormControl),e.xp6(4),e.Q6J("ngIf",0===n.mailStatus),e.xp6(14),e.Q6J("ngModel",n.searchItem),e.xp6(4),e.Q6J("ngModel",n.itemsOnEveryPage),e.xp6(23),e.Q6J("ngForOf",n.transactionDetails),e.xp6(14),e.Q6J("items",n.sortedTerminalList)("ngModel",n.rechargedToID),e.xp6(13),e.Q6J("ngModel",n.searchItem),e.xp6(4),e.Q6J("ngModel",n.itemsOnEveryPage),e.xp6(17),e.Q6J("ngForOf",n.transactionData),e.xp6(5),e.Q6J("ngModel",n.terminalFilter),e.xp6(9),e.Q6J("ngModel",n.searchItem),e.xp6(4),e.Q6J("ngModel",n.itemsOnEveryPage),e.xp6(19),e.Q6J("ngForOf",e.xi3(311,45,n.sortedTerminalList,n.terminalFilter)))},dependencies:[h.sg,h.O5,h.PC,U.SP,U.uX,E.lW,M.TO,M.KE,M.hX,M.R9,P.Nt,f.xw,f.SQ,f.Wh,f.yH,w.Zl,A.a8,A.dk,A.dn,A.n5,A.kc,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.qQ,c.On,c.F,c.oH,c.sg,c.u,p.YE,p.nU,u.gD,d.ey,T.Hw,Z.w9,g.LS,S.Z,g._s],styles:[".red-color[_ngcontent-%COMP%]{color:red;font-size:20px}.green-color[_ngcontent-%COMP%]{color:#1aff00;font-size:20px}"]}),i})();function O(i,s,t){return(i<s?-1:1)*(t?1:-1)}const ve=[{path:"",canActivate:[l(3311).c],component:Ze,data:{title:"About",description:"Description Meta Tag Content",ogUrl:"your og url"}}];let Ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[x.Bz.forChild(ve),x.Bz]}),i})();var Ce=l(5480),Me=l(1620),be=l(455),ke=l(1572);let Ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,Ae,U.Nh,Ce.q,Me.o9,A.QW,c.u5,c.UX,be.rP,p.JX,u.LD,T.Ps,Z.A0,S.h,g.JX,ke.Cq]}),i})()},3311:(y,v,l)=>{l.d(v,{c:()=>c});var h=l(4650),x=l(9366);let c=(()=>{class _{constructor(e){this.authService=e}canActivate(e,C){return this.authService.isSuperStockist()}}return _.\u0275fac=function(e){return new(e||_)(h.LFG(x.e))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},1572:(y,v,l)=>{l.d(v,{Cq:()=>w,Ou:()=>f});var h=l(1281),x=l(3353),c=l(1384),_=l(6895),o=l(4650),e=l(3238),C=l(727);function J(p,u){if(1&p&&(o.O4$(),o._UZ(0,"circle",4)),2&p){const d=o.oxw(),T=o.MAs(1);o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+d._spinnerAnimationLabel)("stroke-dashoffset",d._getStrokeDashOffset(),"px")("stroke-dasharray",d._getStrokeCircumference(),"px")("stroke-width",d._getCircleStrokeWidth(),"%")("transform-origin",d._getCircleTransformOrigin(T)),o.uIk("r",d._getCircleRadius())}}function L(p,u){if(1&p&&(o.O4$(),o._UZ(0,"circle",4)),2&p){const d=o.oxw(),T=o.MAs(1);o.Udp("stroke-dashoffset",d._getStrokeDashOffset(),"px")("stroke-dasharray",d._getStrokeCircumference(),"px")("stroke-width",d._getCircleStrokeWidth(),"%")("transform-origin",d._getCircleTransformOrigin(T)),o.uIk("r",d._getCircleRadius())}}const U=(0,e.pj)(class{constructor(p){this._elementRef=p}},"primary"),E=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function M(){return{diameter:100}}});class f extends U{constructor(u,d,T,Z,g,S,I,q){super(u),this._document=T,this._diameter=100,this._value=0,this._resizeSubscription=C.w0.EMPTY,this.mode="determinate";const N=f._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),N.has(T.head)||N.set(T.head,new Set([100])),this._noopAnimations="NoopAnimations"===Z&&!!g&&!g._forceAnimations,"mat-spinner"===u.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),g&&(g.diameter&&(this.diameter=g.diameter),g.strokeWidth&&(this.strokeWidth=g.strokeWidth)),d.isBrowser&&d.SAFARI&&I&&S&&q&&(this._resizeSubscription=I.change(150).subscribe(()=>{"indeterminate"===this.mode&&q.run(()=>S.markForCheck())}))}get diameter(){return this._diameter}set diameter(u){this._diameter=(0,h.su)(u),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(u){this._strokeWidth=(0,h.su)(u)}get value(){return"determinate"===this.mode?this._value:0}set value(u){this._value=Math.max(0,Math.min(100,(0,h.su)(u)))}ngOnInit(){const u=this._elementRef.nativeElement;this._styleRoot=(0,x.kV)(u)||this._document.head,this._attachStyleNode(),u.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const u=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${u} ${u}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(u){const d=50*(u.currentScale??1);return`${d}% ${d}%`}_attachStyleNode(){const u=this._styleRoot,d=this._diameter,T=f._diameters;let Z=T.get(u);if(!Z||!Z.has(d)){const g=this._document.createElement("style");g.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),g.textContent=this._getAnimationText(),u.appendChild(g),Z||(Z=new Set,T.set(u,Z)),Z.add(d)}}_getAnimationText(){const u=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*u).replace(/END_VALUE/g,""+.2*u).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}f._diameters=new WeakMap,f.\u0275fac=function(u){return new(u||f)(o.Y36(o.SBq),o.Y36(x.t4),o.Y36(_.K0,8),o.Y36(o.QbO,8),o.Y36(E),o.Y36(o.sBO),o.Y36(c.rL),o.Y36(o.R0b))},f.\u0275cmp=o.Xpm({type:f,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(u,d){2&u&&(o.uIk("aria-valuemin","determinate"===d.mode?0:null)("aria-valuemax","determinate"===d.mode?100:null)("aria-valuenow","determinate"===d.mode?d.value:null)("mode",d.mode),o.Udp("width",d.diameter,"px")("height",d.diameter,"px"),o.ekj("_mat-animation-noopable",d._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(u,d){1&u&&(o.O4$(),o.TgZ(0,"svg",0,1),o.YNc(2,J,1,11,"circle",2),o.YNc(3,L,1,9,"circle",3),o.qZA()),2&u&&(o.Udp("width",d.diameter,"px")("height",d.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===d.mode),o.uIk("viewBox",d._getViewBox()),o.xp6(2),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},dependencies:[_.RF,_.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let w=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=o.oAB({type:p}),p.\u0275inj=o.cJS({imports:[[e.BQ,_.ez],e.BQ]}),p})()}}]);