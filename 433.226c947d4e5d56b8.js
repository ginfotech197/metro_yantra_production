"use strict";(self.webpackChunkbase_project=self.webpackChunkbase_project||[]).push([[433],{6823:(Be,N,d)=>{d.d(N,{q:()=>Qe});var v=d(2510),D=d(1068),g=d(3346),U=d(2340),y=d(5226),p=d.n(y),_=d(6895),e=d(4650),J=d(1140),S=d(2088),O=d(1397),b=d(3848),F=d(4859),h=d(9549),w=d(4144),Q=d(4784),Z=d(4006),x=d(6308),M=d(2673),f=d(9602),B=d(4537),T=d(8567),I=d(3189);function Y(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.terminal_pin),e.xp6(2),e.Oqu(t.stockist_name),e.xp6(2),e.Oqu(t.total),e.xp6(2),e.Oqu(t.claimed_prize_value+t.unclaimed_prize_value),e.xp6(2),e.Oqu(t.total-(t.claimed_prize_value+t.unclaimed_prize_value)),e.xp6(2),e.Oqu(t.claimed_prize_value),e.xp6(2),e.Oqu(t.unclaimed_prize_value),e.xp6(2),e.Oqu(t.super_stockist_commission),e.xp6(2),e.Oqu(t.stockist_commission),e.xp6(2),e.Oqu(t.commission),e.xp6(2),e.Oqu((t.total-t.commission-t.claimed_prize_value).toFixed(2))}}function k(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"pagination-controls",37),e.NdJ("pageChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.p1=a)}),e.qZA()}}function z(i,o){1&i&&(e.TgZ(0,"div",41)(1,"h1"),e._uU(2,"No Data"),e.qZA()())}function P(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"button",42),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.MAs(149).show(),e.KtG(s.openPopup(r.play_master_id,r.barcode_number))}),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(3),e.Oqu(t.barcode_number),e.xp6(2),e.Oqu(t.draw_time),e.xp6(2),e.Oqu(t.terminal_pin),e.xp6(2),e.Oqu("SINGLE DOUBLE TRIPLE"==t.game_name?"Triple chance":t.game_name),e.xp6(2),e.Oqu(t.ticket_taken_time),e.xp6(2),e.Oqu(t.total_quantity),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.Oqu(t.prize_value>0&&0==t.is_claimed?t.prize_value:"--"),e.xp6(2),e.Oqu(t.prize_value>0&&1==t.is_claimed?t.prize_value:"--"),e.xp6(2),e.Oqu(1==t.is_cancelled?"Yes":"No"),e.xp6(2),e.Oqu(t.result),e.xp6(2),e.Oqu(1==t.bonus?"N":t.bonus+"X")}}function E(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"pagination-controls",37),e.NdJ("pageChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.p=a)}),e.qZA()}}function W(i,o){1&i&&(e.TgZ(0,"div",41)(1,"h1"),e._uU(2,"No Data"),e.qZA()())}function L(i,o){1&i&&(e.TgZ(0,"div")(1,"h1"),e._uU(2,"NO REPORT"),e.qZA()())}function H(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA()()),2&i){const t=o.$implicit,n=o.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.draw_time),e.xp6(2),e.Oqu(t.draw_payout),e.xp6(2),e.Oqu(t.total_sale),e.xp6(2),e.Oqu(t.total_prize),e.xp6(2),e.Oqu(t.total_quantity),e.xp6(2),e.Oqu(t.total_commission),e.xp6(2),e.Oqu((t.total_sale-t.total_prize-t.total_commission).toFixed(2)),e.xp6(2),e.Oqu(((t.total_sale-t.total_prize-t.total_commission)/t.total_sale*100).toFixed(2))}}const K=function(i,o){return{itemsPerPage:i,currentPage:o}};function V(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",43)(2,"thead")(3,"tr")(4,"th",44),e._uU(5,"Draw Wise Report List"),e.qZA(),e.TgZ(6,"th",45)(7,"label"),e._uU(8,"Search"),e.qZA(),e.TgZ(9,"input",46),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.searchItem=a)}),e.qZA()(),e.TgZ(10,"th",45)(11,"label"),e._uU(12,"No. of items"),e.qZA(),e.TgZ(13,"input",47),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.itemsOnEveryPage=a)}),e.qZA()()(),e.TgZ(14,"tr")(15,"th",48),e._uU(16,"Draw Id"),e.qZA(),e.TgZ(17,"th",48),e._uU(18,"Draw Time"),e.qZA(),e.TgZ(19,"th",48),e._uU(20,"Payout"),e.qZA(),e.TgZ(21,"th",48),e._uU(22,"Total sale"),e.qZA(),e.TgZ(23,"th",48),e._uU(24,"Total Prize"),e.qZA(),e.TgZ(25,"th",48),e._uU(26,"Total Quantity"),e.qZA(),e.TgZ(27,"th",48),e._uU(28,"Total Commission"),e.qZA(),e.TgZ(29,"th",48),e._uU(30,"NTP"),e.qZA(),e.TgZ(31,"th",48),e._uU(32,"NTP %"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,H,19,9,"tr",17),e.ALo(35,"paginate"),e.ALo(36,"filter"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.searchItem),e.xp6(4),e.Q6J("ngModel",t.itemsOnEveryPage),e.xp6(21),e.Q6J("ngForOf",e.xi3(35,3,e.xi3(36,6,t.drawReport,t.searchItem),e.WLB(9,K,t.itemsOnEveryPage,t.p2)))}}function $(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Single"),e.qZA())}function G(i,o){if(1&i&&(e.TgZ(0,"button",60),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.s9C("matBadge",t.quantity),e.xp6(1),e.Oqu(t.single_number)}}function j(i,o){1&i&&e._UZ(0,"div")}function X(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Double"),e.qZA())}function ee(i,o){if(1&i&&(e.TgZ(0,"div",62)(1,"button",63),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(1),e.s9C("matBadge",t.quantity),e.Q6J("matBadgeHidden",!1),e.xp6(1),e.hij(" ",t.visible_double_number," ")}}function te(i,o){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ee,3,3,"div",61),e.qZA()),2&i){const t=o.index,n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.barcodeDetails.double.slice(10*t,10*t+10))}}function ie(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Triple"),e.qZA())}function ne(i,o){if(1&i&&(e.TgZ(0,"div",62)(1,"button",63),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(1),e.s9C("matBadge",t.quantity),e.Q6J("matBadgeHidden",!1),e.xp6(1),e.hij(" ",t.visible_triple_number," ")}}function oe(i,o){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,ne,3,3,"div",61),e.qZA()),2&i){const t=o.index,n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.barcodeDetails.triple.slice(10*t,10*t+10))}}function ae(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Twelve Card"),e.qZA())}function re(i,o){if(1&i&&(e.TgZ(0,"button",65),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.s9C("matBadge",t.quantity),e.xp6(1),e.AsE(" ",t.rank_name,": ",t.suit_name," ")}}function de(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,re,2,3,"button",64),e.qZA()),2&i){const t=o.index,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.barcodeDetails.twelveCard.slice(t*n.columnNumber,t*n.columnNumber+n.columnNumber))}}function se(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div")(2,"div",55),e.YNc(3,ae,2,0,"span",36),e.YNc(4,de,2,1,"div",17),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.barcodeDetails.twelveCard.length),e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.twelveCard.slice(0,t.barcodeDetails.twelveCard.length%t.columnNumber==0?t.barcodeDetails.twelveCard.length/t.columnNumber:t.barcodeDetails.twelveCard.length/t.columnNumber+1))}}function le(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Sixteen Card"),e.qZA())}function me(i,o){if(1&i&&(e.TgZ(0,"button",65),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.s9C("matBadge",t.quantity),e.xp6(1),e.AsE(" ",t.rank_name,": ",t.suit_name," ")}}function pe(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,me,2,3,"button",64),e.qZA()),2&i){const t=o.index,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.barcodeDetails.sixteenCard.slice(t*n.columnNumber,t*n.columnNumber+n.columnNumber))}}function ce(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div")(2,"div",55),e.YNc(3,le,2,0,"span",36),e.YNc(4,pe,2,1,"div",17),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.barcodeDetails.sixteenCard.length),e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.sixteenCard.slice(0,t.barcodeDetails.sixteenCard.length%t.columnNumber==0?t.barcodeDetails.sixteenCard.length/t.columnNumber:t.barcodeDetails.sixteenCard.length/t.columnNumber+1))}}function _e(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Single"),e.qZA())}function ue(i,o){if(1&i&&(e.TgZ(0,"button",60),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.s9C("matBadge",t.quantity),e.xp6(1),e.Oqu(t.single_number)}}function ge(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div")(2,"div",55),e.YNc(3,_e,2,0,"span",36),e.TgZ(4,"div",56),e.YNc(5,ue,2,2,"button",57),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.barcodeDetails.singleIndividual.length),e.xp6(2),e.Q6J("ngForOf",t.barcodeDetails.singleIndividual)}}function he(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Double"),e.qZA())}function Ze(i,o){if(1&i&&(e.TgZ(0,"div",67)(1,"button",68),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(1),e.s9C("matBadge",t.quantity),e.Q6J("matBadgeHidden",!1),e.xp6(1),e.hij(" ",t.visible_double_number," ")}}function fe(i,o){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Ze,3,3,"div",66),e.qZA()),2&i){const t=o.index,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.barcodeDetails.doubleIndividual.slice(10*t,10*t+10))}}function ve(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Andar Number"),e.qZA())}function be(i,o){if(1&i&&(e.TgZ(0,"div",67)(1,"button",68),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(1),e.s9C("matBadge",t.quantity),e.Q6J("matBadgeHidden",!1),e.xp6(1),e.hij(" ",t.andar_number," ")}}function xe(i,o){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,be,3,3,"div",66),e.qZA()),2&i){const t=o.index,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.barcodeDetails.andarNumber.slice(10*t,10*t+10))}}function Te(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div")(2,"div",55),e.YNc(3,he,2,0,"span",36),e.YNc(4,fe,2,1,"div",58),e.YNc(5,ve,2,0,"span",36),e.YNc(6,xe,2,1,"div",58),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.barcodeDetails.doubleIndividual.length),e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.doubleIndividual.slice(0,t.barcodeDetails.doubleIndividual.length%10==0?t.barcodeDetails.doubleIndividual.length/10:t.barcodeDetails.doubleIndividual.length/10+1)),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.doubleIndividual.length),e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.andarNumber.slice(0,t.barcodeDetails.andarNumber.length%10==0?t.barcodeDetails.andarNumber.length/10:t.barcodeDetails.andarNumber.length/10+1))}}function Ae(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Rollete Number"),e.qZA())}function qe(i,o){if(1&i&&(e.TgZ(0,"button",68),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("matBadge",t.quantity),e.Q6J("matBadgeHidden",!1),e.xp6(1),e.hij(" ",t.rollet_number," ")}}function Re(i,o){if(1&i&&(e.TgZ(0,"div",67),e.YNc(1,qe,2,3,"button",73),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.combined_number==t.series_id)}}function Ce(i,o){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Re,2,1,"div",66),e.qZA()),2&i){const t=o.index,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.barcodeDetails.rolletNumber.slice(10*t,10*t+10))}}function Ne(i,o){if(1&i&&(e.TgZ(0,"button",77),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("matBadge",t.quantity),e.Q6J("matBadgeHidden",!1),e.xp6(1),e.hij(" ",t.rollet_number," ")}}function De(i,o){if(1&i&&(e.ynx(0,75),e.YNc(1,Ne,2,3,"button",76),e.BQk()),2&i){const t=o.$implicit,n=e.oxw().index;e.xp6(1),e.Q6J("ngIf",t.combined_number!=t.series_id&&t.series_id==n)}}function Ue(i,o){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,De,2,1,"ng-container",74),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.rolletNumber)}}function ye(i,o){if(1&i&&(e.TgZ(0,"div",78),e._uU(1),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.seriesName[t]," ")}}function Je(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div")(2,"div",55),e.YNc(3,Ae,2,0,"span",36),e.YNc(4,Ce,2,1,"div",58),e.TgZ(5,"div",69)(6,"div",70),e.YNc(7,Ue,2,1,"div",71),e.qZA(),e.TgZ(8,"div"),e.YNc(9,ye,2,1,"div",72),e.qZA()()()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.barcodeDetails.rolletNumber.length),e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.rolletNumber.slice(0,t.barcodeDetails.rolletNumber.length%10==0?t.barcodeDetails.rolletNumber.length/10:t.barcodeDetails.rolletNumber.length/10+1)),e.xp6(3),e.Q6J("ngForOf",t.counter(13)),e.xp6(2),e.Q6J("ngForOf",t.uniquSeriesId)}}function Se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"div",51)(3,"h4",52),e._uU(4),e.qZA(),e.TgZ(5,"button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(149);return e.KtG(a.hide())}),e.TgZ(6,"span",54),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",55),e.YNc(9,$,2,0,"span",36),e.TgZ(10,"div",56),e.YNc(11,G,2,2,"button",57),e.qZA(),e.YNc(12,j,1,0,"div",36),e.YNc(13,X,2,0,"span",36),e.YNc(14,te,2,1,"div",58),e.YNc(15,ie,2,0,"span",36),e.YNc(16,oe,2,1,"div",58),e.qZA(),e.YNc(17,se,5,2,"div",36),e.YNc(18,ce,5,2,"div",36),e.YNc(19,ge,6,2,"div",36),e.YNc(20,Te,7,4,"div",36),e.YNc(21,Je,10,4,"div",36),e._UZ(22,"div",59),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.hij(" Ticket: ",t.barcodeDetails.barcode," "),e.xp6(5),e.Q6J("ngIf",t.barcodeDetails.single.length),e.xp6(2),e.Q6J("ngForOf",t.barcodeDetails.single),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.double.length),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.double.length),e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.double.slice(0,t.barcodeDetails.double.length%10==0?t.barcodeDetails.double.length/10:t.barcodeDetails.double.length/10+1)),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.triple.length),e.xp6(1),e.Q6J("ngForOf",t.barcodeDetails.triple.slice(0,t.barcodeDetails.triple.length%10==0?t.barcodeDetails.triple.length/10:t.barcodeDetails.triple.length/10+1)),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.twelveCard.length),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.sixteenCard.length),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.singleIndividual.length),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.doubleIndividual.length),e.xp6(1),e.Q6J("ngIf",t.barcodeDetails.rolletNumber.length>0)}}function Oe(i,o){if(1&i&&(e.TgZ(0,"div")(1,"pre"),e._uU(2),e.ALo(3,"json"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.hij("  ",e.lcZ(3,1,t.barcodeDetails),"\n")}}const m=function(i){return{"font-size":i}},A=function(i){return{itemsPerPage:20,currentPage:i}};function c(i,o,t){return(i<o?-1:1)*(t?1:-1)}const we=[{path:"",canActivate:[D.m],component:(()=>{class i{constructor(t,n,a){this.adminReportService=t,this.masterTerminalService=n,this.gameService=a,this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth(),this.thisDay=(new Date).getDate(),this.startDate=new Date(this.thisYear,this.thisMonth,this.thisDay),this.isProduction=U.N.production,this.showDevArea=!1,this.barcodeReportRecords=[],this.copyBarcodeReportRecords=[],this.customerSaleReportRecords=[],this.terminals=[],this.StartDateFilter=this.startDate,this.EndDateFilter=this.startDate,this.pipe=new _.uU("en-US"),this.p=1,this.p1=1,this.p2=1,this.searchItem=null,this.itemsOnEveryPage=10,this.reportData=!0,this.columnNumber=8,this.drawReport=[],this.totalAmount=0,this.claimed_prize_value=0,this.end_point=0,this.unclaimed_prize_value=0,this.totalWinPrizeValue=0,this.super_stockist_commission=0,this.stockist_commission=0,this.commission=0,this.ntp=0,this.seriesName=[" ","1st12","2nd12","3rd12","1 to 18","Even","Dimond","Spead","odd","19 to 36","2to1","2to1 (1)","2to1 (2)"],this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight}ngOnInit(){this.barcodeReportRecords=this.adminReportService.getBarcodeReportRecords(),this.copyBarcodeReportRecords=this.adminReportService.getBarcodeReportRecords(),this.adminReportService.getBarcodeReportListener().subscribe(n=>{this.barcodeReportRecords=n,this.copyBarcodeReportRecords=n}),this.games=this.gameService.getGame(),this.gameService.getGameListener().subscribe(n=>{this.games=n,this.games.unshift({id:0,game_name:"All",auto_generate:"yes",active:"yes",multiplexer_random:"no",inforce:1,created_at:null,updated_at:null})}),this.games.unshift({id:0,game_name:"All",auto_generate:"yes",active:"yes",multiplexer_random:"no",inforce:1,created_at:null,updated_at:null}),this.terminals=this.masterTerminalService.getTerminals(),this.masterTerminalService.getTerminalListener().subscribe(n=>{this.terminals=n}),this.adminReportService.getLoadReportsListener().subscribe(n=>{this.loadReports=n}),this.customerSaleReportRecords=this.adminReportService.getCustomerSaleReportRecords(),this.adminReportService.getCustomerSaleReportListener().subscribe(n=>{this.customerSaleReportRecords=n;let a=0,r=0,s=0,u=0,q=0,R=0,C=0,Me=0;this.customerSaleReportRecords.forEach(function(l){a+=Number(l.total),r+=Number(l.claimed_prize_value)+Number(l.unclaimed_prize_value),s+=Number(l.claimed_prize_value),u+=Number(l.unclaimed_prize_value),q+=Number(l.super_stockist_commission),R+=Number(l.stockist_commission),C+=Number(l.commission),Me+=Number(l.total)-Number(l.commission)-Number(l.claimed_prize_value)}),this.totalAmount=Number(a.toFixed(2)),this.totalWinPrizeValue=Number(r.toFixed(2)),this.end_point=this.totalAmount-this.totalWinPrizeValue,this.claimed_prize_value=Number(s.toFixed(2)),this.unclaimed_prize_value=Number(u.toFixed(2)),this.super_stockist_commission=Number(q.toFixed(2)),this.stockist_commission=Number(R.toFixed(2)),this.commission=Number(C.toFixed(2)),this.ntp=this.totalAmount-this.commission-this.claimed_prize_value}),this.searchByDateTab1(),this.searchByDateTab2()}drawWiseReport(t){this.adminReportService.getDrawWiseReport(t).subscribe(n=>{this.drawReport=n.data})}searchByDateTab1(){p().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:()=>{p().showLoading()}});const t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),n=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.adminReportService.customerSaleReportByDate(t,n).subscribe(a=>{a.data&&p().close()})}sortByTerminal(t){0!==this.gameId&&null!=this.terminalPin?(this.barcodeReportRecords=this.copyBarcodeReportRecords.filter(n=>n.game_id===this.gameId),this.barcodeReportRecords=this.barcodeReportRecords.filter(n=>n.terminal_pin===this.terminalPin)):this.barcodeReportRecords=null!=t?this.copyBarcodeReportRecords.filter(n=>n.terminal_pin===t):0!==this.gameId?this.copyBarcodeReportRecords.filter(n=>n.game_id===this.gameId):this.copyBarcodeReportRecords}sortByGame(){0!==this.gameId&&null!=this.terminalPin?(this.barcodeReportRecords=this.copyBarcodeReportRecords.filter(t=>t.game_id===this.gameId),this.barcodeReportRecords=this.barcodeReportRecords.filter(t=>t.terminal_pin===this.terminalPin)):this.barcodeReportRecords=0!==this.gameId?this.copyBarcodeReportRecords.filter(t=>t.game_id===this.gameId):this.terminalPin?this.copyBarcodeReportRecords.filter(t=>t.terminal_pin===this.terminalPin):this.copyBarcodeReportRecords}searchByDateTab2(){p().fire({title:"Please Wait !",html:"loading ...",allowOutsideClick:!1,didOpen:()=>{p().showLoading()}});const t=this.pipe.transform(this.StartDateFilter,"yyyy-MM-dd"),n=this.pipe.transform(this.EndDateFilter,"yyyy-MM-dd");this.adminReportService.barcodeReportByDate(t,n).subscribe(a=>{a.data&&p().close()})}sortData(t){const n=this.barcodeReportRecords.slice();this.barcodeReportRecords=t.active&&""!==t.direction?n.sort((a,r)=>{const s="asc"===t.direction;switch(t.active){case"barcode_number":return c(a.barcode_number,r.barcode_number,s);case"draw_time":return c(a.draw_time,r.draw_time,s);case"terminal_pin":return c(a.terminal_pin,r.terminal_pin,s);case"ticket_taken_time":return c(a.ticket_taken_time,r.ticket_taken_time,s);case"total_quantity":return c(a.total_quantity,r.total_quantity,s);case"amount":return c(a.amount,r.amount,s);default:return 0}}):n}openPopup(t,n){this.adminReportService.getBarcodeDetails(t).subscribe(a=>{this.barcodeDetails=a.data;const r=this.barcodeDetails.rolletNumber.map(s=>s.series_id);this.uniquSeriesId=[...new Set(r)],console.log([...new Set(r)])})}counter(t){return new Array(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(J.Q),e.Y36(S.S),e.Y36(O.h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin-reports"]],viewQuery:function(t,n){if(1&t&&e.Gf(g.oB,5),2&t){let a;e.iGM(a=e.CRH())&&(n.modal=a.first)}},decls:152,vars:74,consts:[[1,"scroll","mt-2","ml-5","mr-3"],["label","Customer sales report",1,"scroll"],[1,"pt-1","d-flex"],[1,"col-5"],["appearance","fill",3,"ngStyle"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"ngModel","ngModelChange"],["picker",""],["picker1",""],["mat-button","","color","accent",2,"font-size","20px",3,"ngStyle","click"],["matSort","",1,"table","table-bordered","table-sm","col-sm-8",2,"border","none !important","height","50px","overflow","scroll","color","white",3,"ngStyle","matSortChange"],["mat-sort-header","terminal_pin"],["mat-sort-header","total"],["mat-sort-header","prize_value"],["mat-sort-header","commission"],["mat-sort-header","ntp"],[4,"ngFor","ngForOf"],[3,"pageChange",4,"ngIf"],["class","text-center",4,"ngIf"],["label","Barcode report"],[1,"scroll",2,"padding-left","50px"],[1,"row"],[1,"col-3"],["bindLabel","pin","bindValue","pin",3,"ngStyle","items","ngModel","ngModelChange","change"],["matInput","","type","text","value","Single"],[1,"scroll"],["matSort","",1,"col-12","table","table-bordered","table-sm","text-center",2,"border","none !important","height","50px","overflow","hidden\n        !important","color","white",3,"matSortChange"],["mat-sort-header","barcode_number"],["mat-sort-header","draw_time"],["mat-sort-header","ticket_taken_time"],["mat-sort-header","total_quantity"],["mat-sort-header","amount"],["mat-sort-header","result"],["label","Draw wise report"],["appearance","fill"],[4,"ngIf"],[3,"pageChange"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","top",2,"overflow-y","auto"],["frame","mdbModal"],["class","modal-dialog modal-notify modal-info","role","document","style","min-width: 550px",4,"ngIf"],[1,"text-center"],["mdbWavesEffect","",1,"btn",2,"color","blue !important",3,"click"],[1,"table","table-bordered","table-dark",2,"color","white"],["scope","colgroup","colspan","3",1,"text-center"],["scope","colgroup","colspan","2",1,"text-center"],["placeholder","Search",1,"col-12",3,"ngModel","ngModelChange"],["placeholder","Items",1,"col-12",3,"ngModel","ngModelChange"],["scope","col"],["role","document",1,"modal-dialog","modal-notify","modal-info",2,"min-width","550px"],[1,"modal-content"],[1,"modal-header","text-center"],[1,"modal-title","white-text","font-weight-bold"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"white-text"],[1,"modal-body"],[1,"d-flex","flex-row","mt-2"],["class","mr-2",3,"matBadge",4,"ngFor","ngForOf"],["class","d-flex flex-row mt-2",4,"ngFor","ngForOf"],[1,"modal-footer","justify-content-center"],[1,"mr-2",3,"matBadge"],["colspan","2","class","text-center align-middle mr-3","style","max-width: 100%\n            !important;",4,"ngFor","ngForOf"],["colspan","2",1,"text-center","align-middle","mr-3",2,"max-width","100%\n            !important"],["mat-raised-button","","value","bold","name","fontStyle","aria-label","Font Style",2,"font-size","larger","min-width","97% !important","padding","0px\n              !important","min-height","40px",3,"matBadge","matBadgeHidden"],["class","m-2",3,"matBadge",4,"ngFor","ngForOf"],[1,"m-2",3,"matBadge"],["colspan","2","class","text-center align-middle mr-3","style","max-width: 100%\n                !important;",4,"ngFor","ngForOf"],["colspan","2",1,"text-center","align-middle","mr-3",2,"max-width","100%\n                !important"],["mat-raised-button","","value","bold","name","fontStyle","aria-label","Font Style",2,"font-size","larger","min-width","97% !important","padding","0px !important","min-height","40px",3,"matBadge","matBadgeHidden"],[1,"d-flex"],[1,""],["class","d-flex",4,"ngFor","ngForOf"],["style","min-height: 50px;",4,"ngFor","ngForOf"],["mat-raised-button","","value","bold","name","fontStyle","aria-label","Font Style","style","font-size: larger; min-width: 97% !important; padding:\n                  0px !important; min-height: 40px;",3,"matBadge","matBadgeHidden",4,"ngIf"],["class","ml-3","colspan","2",4,"ngFor","ngForOf"],["colspan","2",1,"ml-3"],["value","bold","name","fontStyle","aria-label","Font Style","style","font-size: larger;\n                      margin: 5px !important;max-width: 17% !important;\n                      min-height:\n                      40px;",3,"matBadge","matBadgeHidden",4,"ngIf"],["value","bold","name","fontStyle","aria-label","Font Style",2,"font-size","larger","margin","5px !important","max-width","17% !important","min-height","40px",3,"matBadge","matBadgeHidden"],[2,"min-height","50px"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),e._uU(6,"Start date"),e.qZA(),e.TgZ(7,"input",5),e.NdJ("ngModelChange",function(r){return n.StartDateFilter=r}),e.qZA(),e._UZ(8,"mat-datepicker-toggle",6),e.TgZ(9,"mat-datepicker",7,8),e.NdJ("ngModelChange",function(r){return n.StartDateFilter=r}),e.qZA()()(),e.TgZ(11,"div",3)(12,"mat-form-field",4)(13,"mat-label"),e._uU(14,"End date"),e.qZA(),e.TgZ(15,"input",5),e.NdJ("ngModelChange",function(r){return n.EndDateFilter=r}),e.qZA(),e._UZ(16,"mat-datepicker-toggle",6),e.TgZ(17,"mat-datepicker",7,9),e.NdJ("ngModelChange",function(r){return n.EndDateFilter=r}),e.qZA()()(),e.TgZ(19,"button",10),e.NdJ("click",function(){return n.searchByDateTab1()}),e._uU(20,"Search"),e.qZA()(),e.TgZ(21,"div")(22,"table",11),e.NdJ("matSortChange",function(r){return n.sortData(r)}),e.TgZ(23,"thead")(24,"tr")(25,"th",12),e._uU(26,"Name"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Stockist"),e.qZA(),e.TgZ(29,"th",13),e._uU(30,"Total"),e.qZA(),e.TgZ(31,"th",13),e._uU(32,"Win"),e.qZA(),e.TgZ(33,"th",13),e._uU(34,"End"),e.qZA(),e.TgZ(35,"th",14),e._uU(36,"Claimed"),e.qZA(),e.TgZ(37,"th",14),e._uU(38,"UnClaimed"),e.qZA(),e.TgZ(39,"th",15),e._uU(40,"SS Comm"),e.qZA(),e.TgZ(41,"th",15),e._uU(42,"S Comm"),e.qZA(),e.TgZ(43,"th",15),e._uU(44,"T Comm"),e.qZA(),e.TgZ(45,"th",16),e._uU(46,"NTP"),e.qZA(),e._UZ(47,"th"),e.qZA()(),e.TgZ(48,"tbody"),e.YNc(49,Y,23,11,"tr",17),e.ALo(50,"paginate"),e.TgZ(51,"tr"),e._UZ(52,"td"),e.TgZ(53,"td"),e._uU(54,"Grand Total"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.qZA(),e.TgZ(61,"td"),e._uU(62),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA(),e.TgZ(65,"td"),e._uU(66),e.qZA(),e.TgZ(67,"td"),e._uU(68),e.qZA(),e.TgZ(69,"td"),e._uU(70),e.qZA(),e.TgZ(71,"td"),e._uU(72),e.qZA()()()()(),e.YNc(73,k,1,0,"pagination-controls",18),e.YNc(74,z,3,0,"div",19),e.qZA(),e.TgZ(75,"mat-tab",20)(76,"div",2)(77,"div",3)(78,"mat-form-field",4)(79,"mat-label"),e._uU(80,"Start date"),e.qZA(),e.TgZ(81,"input",5),e.NdJ("ngModelChange",function(r){return n.StartDateFilter=r}),e.qZA(),e._UZ(82,"mat-datepicker-toggle",6),e.TgZ(83,"mat-datepicker",7,8),e.NdJ("ngModelChange",function(r){return n.StartDateFilter=r}),e.qZA()()(),e.TgZ(85,"div",3)(86,"mat-form-field",4)(87,"mat-label"),e._uU(88,"End date"),e.qZA(),e.TgZ(89,"input",5),e.NdJ("ngModelChange",function(r){return n.EndDateFilter=r}),e.qZA(),e._UZ(90,"mat-datepicker-toggle",6),e.TgZ(91,"mat-datepicker",7,9),e.NdJ("ngModelChange",function(r){return n.EndDateFilter=r}),e.qZA()()(),e.TgZ(93,"button",10),e.NdJ("click",function(){return n.searchByDateTab2()}),e._uU(94,"Search"),e.qZA()(),e.TgZ(95,"div",21)(96,"div",22)(97,"div",23)(98,"ng-select",24),e.NdJ("ngModelChange",function(r){return n.terminalPin=r})("change",function(){return n.sortByTerminal(n.terminalPin)}),e.qZA()(),e.TgZ(99,"div",23)(100,"mat-form-field",4)(101,"mat-label"),e._uU(102,"Games"),e.qZA(),e._UZ(103,"input",25),e.qZA()()()(),e.TgZ(104,"div",26)(105,"table",27),e.NdJ("matSortChange",function(r){return n.sortData(r)}),e.TgZ(106,"thead")(107,"tr")(108,"th",28),e._uU(109,"Barcode"),e.qZA(),e.TgZ(110,"th",29),e._uU(111,"Draw time"),e.qZA(),e.TgZ(112,"th",12),e._uU(113,"Terminal"),e.qZA(),e.TgZ(114,"th",12),e._uU(115,"Game"),e.qZA(),e.TgZ(116,"th",30),e._uU(117,"Ticket take time"),e.qZA(),e.TgZ(118,"th",31),e._uU(119,"Qty"),e.qZA(),e.TgZ(120,"th",32),e._uU(121,"Play"),e.qZA(),e.TgZ(122,"th",14),e._uU(123,"UnClaimed"),e.qZA(),e.TgZ(124,"th",14),e._uU(125,"Claimed"),e.qZA(),e.TgZ(126,"th",14),e._uU(127,"Cancelled"),e.qZA(),e.TgZ(128,"th",33),e._uU(129,"Result"),e.qZA(),e.TgZ(130,"th",33),e._uU(131,"Bonus"),e.qZA()()(),e.TgZ(132,"tbody"),e.YNc(133,P,26,12,"tr",17),e.ALo(134,"paginate"),e.qZA()(),e.YNc(135,E,1,0,"pagination-controls",18),e.YNc(136,W,3,0,"div",19),e.qZA()(),e.TgZ(137,"mat-tab",34)(138,"div",22)(139,"div",23)(140,"mat-form-field",35)(141,"mat-label"),e._uU(142,"Games"),e.qZA(),e._UZ(143,"input",25),e.qZA()()(),e.TgZ(144,"div"),e.YNc(145,L,3,0,"div",36),e.YNc(146,V,37,12,"div",36),e.TgZ(147,"pagination-controls",37),e.NdJ("pageChange",function(r){return n.p2=r}),e.qZA()()()(),e.TgZ(148,"div",38,39),e.YNc(150,Se,23,13,"div",40),e.qZA(),e.YNc(151,Oe,4,3,"div",36)),2&t){const a=e.MAs(10),r=e.MAs(18);e.xp6(4),e.Q6J("ngStyle",e.VKq(52,m,n.screenWidth>=1280?"15px":"25px")),e.xp6(3),e.Q6J("matDatepicker",a)("ngModel",n.StartDateFilter),e.xp6(1),e.Q6J("for",a),e.xp6(1),e.Q6J("ngModel",n.StartDateFilter),e.xp6(3),e.Q6J("ngStyle",e.VKq(54,m,n.screenWidth>=1280?"15px":"25px")),e.xp6(3),e.Q6J("matDatepicker",r)("ngModel",n.EndDateFilter),e.xp6(1),e.Q6J("for",r),e.xp6(1),e.Q6J("ngModel",n.EndDateFilter),e.xp6(2),e.Q6J("ngStyle",e.VKq(56,m,n.screenWidth>=1280?"15px":"25px")),e.xp6(3),e.Q6J("ngStyle",e.VKq(58,m,n.screenWidth>=1280?"15px":"20px")),e.xp6(27),e.Q6J("ngForOf",e.xi3(50,46,n.customerSaleReportRecords,e.VKq(60,A,n.p1))),e.xp6(7),e.Oqu(n.totalAmount),e.xp6(2),e.Oqu(n.totalWinPrizeValue),e.xp6(2),e.Oqu(n.end_point),e.xp6(2),e.Oqu(n.claimed_prize_value),e.xp6(2),e.Oqu(n.unclaimed_prize_value),e.xp6(2),e.Oqu(n.super_stockist_commission),e.xp6(2),e.Oqu(n.stockist_commission),e.xp6(2),e.Oqu(n.commission),e.xp6(2),e.Oqu(n.ntp.toFixed(2)),e.xp6(1),e.Q6J("ngIf",n.customerSaleReportRecords.length>19),e.xp6(1),e.Q6J("ngIf",0==n.customerSaleReportRecords.length),e.xp6(4),e.Q6J("ngStyle",e.VKq(62,m,n.screenWidth>=1280?"15px":"25px")),e.xp6(3),e.Q6J("matDatepicker",a)("ngModel",n.StartDateFilter),e.xp6(1),e.Q6J("for",a),e.xp6(1),e.Q6J("ngModel",n.StartDateFilter),e.xp6(3),e.Q6J("ngStyle",e.VKq(64,m,n.screenWidth>=1280?"15px":"25px")),e.xp6(3),e.Q6J("matDatepicker",r)("ngModel",n.EndDateFilter),e.xp6(1),e.Q6J("for",r),e.xp6(1),e.Q6J("ngModel",n.EndDateFilter),e.xp6(2),e.Q6J("ngStyle",e.VKq(66,m,n.screenWidth>=1280?"15px":"25px")),e.xp6(5),e.Q6J("ngStyle",e.VKq(68,m,n.screenWidth>=1280?"15px":"25px"))("items",n.terminals)("ngModel",n.terminalPin),e.xp6(2),e.Q6J("ngStyle",e.VKq(70,m,n.screenWidth>=1280?"15px":"25px")),e.xp6(33),e.Q6J("ngForOf",e.xi3(134,49,n.barcodeReportRecords,e.VKq(72,A,n.p))),e.xp6(2),e.Q6J("ngIf",n.barcodeReportRecords.length>19),e.xp6(1),e.Q6J("ngIf",0==n.barcodeReportRecords.length),e.xp6(9),e.Q6J("ngIf",0==n.drawReport.length),e.xp6(1),e.Q6J("ngIf",n.drawReport.length>0),e.xp6(4),e.Q6J("ngIf",n.barcodeDetails),e.xp6(1),e.Q6J("ngIf",!0)}},dependencies:[_.sg,_.O5,_.PC,b.SP,b.uX,F.lW,h.KE,h.hX,h.R9,w.Nt,Q.Zl,Z.Fj,Z.JJ,Z.On,x.YE,x.nU,g.b6,g.oB,M.k,f.Mq,f.hl,f.nW,B.w9,T.LS,_.Ts,T._s,I.Z],styles:[".scroll[_ngcontent-%COMP%]{overflow-y:scroll}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.scroll[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}"]}),i})(),data:{title:"About",description:"Description Meta Tag Content",ogUrl:"your og url"}}];let Qe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.Bz.forChild(we),v.Bz]}),i})()}}]);